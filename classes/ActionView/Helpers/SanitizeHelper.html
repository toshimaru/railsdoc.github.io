<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
  <link href="/assets/css/style.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/monokai.min.css">
  <link rel="apple-touch-icon" href="icon.png">
  <meta name="theme-color" content="#fafafa">
  <link href="https://fonts.googleapis.com/css?family=Asap" rel="stylesheet">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>ActionView::Helpers::SanitizeHelper | RailsDoc(β)</title>
<meta name="generator" content="Jekyll v3.9.5" />
<meta property="og:title" content="ActionView::Helpers::SanitizeHelper" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Ruby on Rails API Documentation." />
<meta property="og:description" content="Ruby on Rails API Documentation." />
<link rel="canonical" href="https://railsdoc.github.io/classes/ActionView/Helpers/SanitizeHelper.html" />
<meta property="og:url" content="https://railsdoc.github.io/classes/ActionView/Helpers/SanitizeHelper.html" />
<meta property="og:site_name" content="RailsDoc(β)" />
<meta property="og:image" content="https://avatars.githubusercontent.com/u/4223" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:image" content="https://avatars.githubusercontent.com/u/4223" />
<meta property="twitter:title" content="ActionView::Helpers::SanitizeHelper" />
<meta name="twitter:site" content="@" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Ruby on Rails API Documentation.","headline":"ActionView::Helpers::SanitizeHelper","image":"https://avatars.githubusercontent.com/u/4223","url":"https://railsdoc.github.io/classes/ActionView/Helpers/SanitizeHelper.html"}</script>
<!-- End Jekyll SEO tag -->

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134470810-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-134470810-1');

    window.config = {
      rootPath: "/"
    }
  </script>
</head>
<body>
  <header class="navbar navbar-dark navbar-expand bg-dark flex-md-nowrap p-0 shadow sticky-header">
    <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="/">RailsDoc(β)</a>
    <form class="w-100 d-none d-md-flex" action="/search" method="get">
      <input id="search-form" class="form-control form-control-dark" type="text" placeholder="Search" aria-label="Search" name="q">
    </form>

    <ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex px-1">
      <li class="nav-item text-nowrap p-1">
        <div class="dropdown">
          <a class="dropdown-toggle nav-link" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            v7.1
          </a>
          <div class="dropdown-menu dropdown-menu-md-right" aria-labelledby="dropdownMenuLink">
            
    
    
    
        <a class="dropdown-item" href="/">v7.1</a>
    

    
    
    
        <a class="dropdown-item" href="/7.0/">v7.0</a>
    

    
    
    
        <a class="dropdown-item" href="/6.1/">v6.1</a>
    

    
    
    
        <a class="dropdown-item" href="/6.0/">v6.0</a>
    

    
    
    
        <a class="dropdown-item" href="/5.2/">v5.2</a>
    


          </div>
        </div>
      </li>
      <li class="nav-item text-nowrap p-1">
        <a class="nav-link p-2" href="https://github.com/railsdoc/railsdoc.github.io">GitHub</a>
      </li>
    </ul>
  </header>

  <div class="container-fluid">
    <div class="row">
      <nav class="col-12 col-md-3 col-xl-2 d-none d-md-block bg-light sidebar-sticky">
        <div id="navigation" class="sidebar-content">
        </div>
      </nav>

      <div class="col-12 col-md-3 col-xl-2 toc-content-sticky">
        <div class="toc-content"><ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#methods">Methods</a></li>
<li class="toc-entry toc-h2"><a href="#instance-public-methods">Instance Public methods</a>
<ul>
<li class="toc-entry toc-h3"><a href="#method-i-sanitize">
            
              sanitize(html, options = {})
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-sanitize_css">
            
              sanitize_css(style)
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-strip_links">
            
              strip_links(html)
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-strip_tags">
            
              strip_tags(html)
            
          </a></li>
</ul>
</li>
</ul></div>
      </div>

      <main role="main" class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-4">
        <div class="main">
    <div class="banner">
        
            <span>Ruby on Rails 7.1.3</span><br />
        
        <div class="type">Module</div>
        <h1>
            ActionView::Helpers::SanitizeHelper
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/actionview/lib/action_view/helpers/sanitize_helper_rb.html">actionview/lib/action_view/helpers/sanitize_helper.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h1 id="module-ActionView::Helpers::SanitizeHelper-label-Action+View+Sanitize+Helpers">Action View Sanitize Helpers</h1>

<p>The <a href="SanitizeHelper.html"><code>SanitizeHelper</code></a> module provides a set of methods for scrubbing text of undesired HTML elements. These helper methods extend Action View making them callable within your template files.</p>

    </div>
  

  

  
  


  

  
    <h2 id="methods">Methods</h2>
    <ul>
      
        <li>
          <a href="#method-i-sanitize">sanitize</a>
        </li>
      
        <li>
          <a href="#method-i-sanitize_css">sanitize_css</a>
        </li>
      
        <li>
          <a href="#method-i-strip_links">strip_links</a>
        </li>
      
        <li>
          <a href="#method-i-strip_tags">strip_tags</a>
        </li>
      
    </ul>
  

  

  
    

    

    

    

    <!-- Methods -->
    
    
      <h2 id="instance-public-methods">Instance Public methods</h2>
      
        <div class="method">
          <h3 id="method-i-sanitize">
            
              sanitize(html, options = {})
            
          </h3>

          
            <div class="description">
              <p>Sanitizes HTML input, stripping all but known-safe tags and attributes.</p>

<p>It also strips <code>href</code> / <code>src</code> attributes with unsafe protocols like <code>javascript:</code>, while also protecting against attempts to use Unicode, ASCII, and hex character references to work around these protocol filters.</p>

<p>The default sanitizer is <code>Rails::HTML5::SafeListSanitizer</code>. See <a href="https://github.com/rails/rails-html-sanitizer">Rails HTML Sanitizers</a> for more information.</p>

<p>Custom sanitization rules can also be provided.</p>

<p>Please note that sanitizing user-provided text does not guarantee that the resulting markup is valid or even well-formed.</p>

<h4 id="method-i-sanitize-label-Options">Options</h4>
<dl class="rdoc-list label-list"><dt><code>:tags</code>
<dd>
<p>An array of allowed tags.</p>
</dd><dt><code>:attributes</code>
<dd>
<p>An array of allowed attributes.</p>
</dd><dt><code>:scrubber</code>
<dd>
<p>A <a href="https://github.com/rails/rails-html-sanitizer">Rails::HTML scrubber</a> or <a href="https://github.com/flavorjones/loofah">Loofah::Scrubber</a> object that defines custom sanitization rules. A custom scrubber takes precedence over custom tags and attributes.</p>
</dd></dl>

<h4 id="method-i-sanitize-label-Examples">Examples</h4>

<h5 id="method-i-sanitize-label-Normal+use">Normal use</h5>

<pre><code>&lt;%= sanitize @comment.body %&gt;
</code></pre>

<h5 id="method-i-sanitize-label-Providing+custom+lists+of+permitted+tags+and+attributes">Providing custom lists of permitted tags and attributes</h5>

<pre><code>&lt;%= sanitize @comment.body, tags: %w(strong em a), attributes: %w(href) %&gt;
</code></pre>

<h5 id="method-i-sanitize-label-Providing+a+custom+Rails-3A-3AHTML+scrubber">Providing a custom <code>Rails::HTML</code> scrubber</h5>

<pre><code>class CommentScrubber &lt; Rails::HTML::PermitScrubber
  def initialize
    super
    self.tags = %w( form script comment blockquote )
    self.attributes = %w( style )
  end

  def skip_node?(node)
    node.text?
  end
end
</code></pre>

<p></p>

<pre><code>&lt;%= sanitize @comment.body, scrubber: CommentScrubber.new %&gt;
</code></pre>

<p>See <a href="https://github.com/rails/rails-html-sanitizer">Rails HTML Sanitizer</a> for documentation about <code>Rails::HTML</code> scrubbers.</p>

<h5 id="method-i-sanitize-label-Providing+a+custom+Loofah-3A-3AScrubber">Providing a custom <code>Loofah::Scrubber</code></h5>

<pre><code>scrubber = Loofah::Scrubber.new do |node|
  node.remove if node.name == &#39;script&#39;
end
</code></pre>

<p></p>

<pre><code>&lt;%= sanitize @comment.body, scrubber: scrubber %&gt;
</code></pre>

<p>See <a href="https://github.com/flavorjones/loofah">Loofah’s documentation</a> for more information about defining custom <code>Loofah::Scrubber</code> objects.</p>

<h4 id="method-i-sanitize-label-Global+Configuration">Global Configuration</h4>

<p>To set the default allowed tags or attributes across your application:</p>

<pre><code># In config/application.rb
config.action_view.sanitized_allowed_tags = [&#39;strong&#39;, &#39;em&#39;, &#39;a&#39;]
config.action_view.sanitized_allowed_attributes = [&#39;href&#39;, &#39;title&#39;]
</code></pre>

<p>The default, starting in Rails 7.1, is to use an HTML5 parser for sanitization (if it is available, see NOTE below). If you wish to revert back to the previous HTML4 behavior, you can do so by setting the following in your application configuration:</p>

<pre><code># In config/application.rb
config.action_view.sanitizer_vendor = Rails::HTML4::Sanitizer
</code></pre>

<p>Or, if you’re upgrading from a previous version of Rails and wish to opt into the HTML5 behavior:</p>

<pre><code># In config/application.rb
config.action_view.sanitizer_vendor = Rails::HTML5::Sanitizer
</code></pre>

<p>NOTE: <code>Rails::HTML5::Sanitizer</code> is not supported on JRuby, so on JRuby platforms Rails will fall back to using <code>Rails::HTML4::Sanitizer</code>.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/sanitize_helper.rb, line 111
      def sanitize(html, options = {})
        self.class.safe_list_sanitizer.sanitize(html, options)&amp;.html_safe
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/36c1591bcb5e0ee3084759c7f42a706fe5bb7ca7/actionview/lib/action_view/helpers/sanitize_helper.rb#L111" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-sanitize_css">
            
              sanitize_css(style)
            
          </h3>

          
            <div class="description">
              <p>Sanitizes a block of CSS code. Used by <a href="SanitizeHelper.html#method-i-sanitize"><code>sanitize</code></a> when it comes across a style attribute.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/sanitize_helper.rb, line 116
      def sanitize_css(style)
        self.class.safe_list_sanitizer.sanitize_css(style)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/36c1591bcb5e0ee3084759c7f42a706fe5bb7ca7/actionview/lib/action_view/helpers/sanitize_helper.rb#L116" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-strip_links">
            
              strip_links(html)
            
          </h3>

          
            <div class="description">
              <p>Strips all link tags from <code>html</code> leaving just the link text.</p>

<pre><code>strip_links(&#39;&lt;a href=&quot;http://www.rubyonrails.org&quot;&gt;Ruby on Rails&lt;/a&gt;&#39;)
# =&gt; Ruby on Rails

strip_links(&#39;Please e-mail me at &lt;a href=&quot;mailto:me@email.com&quot;&gt;me@email.com&lt;/a&gt;.&#39;)
# =&gt; Please e-mail me at me@email.com.

strip_links(&#39;Blog: &lt;a href=&quot;http://www.myblog.com/&quot; class=&quot;nav&quot; target=\&quot;_blank\&quot;&gt;Visit&lt;/a&gt;.&#39;)
# =&gt; Blog: Visit.

strip_links(&#39;&lt;&lt;a href=&quot;https://example.org&quot;&gt;malformed &amp; link&lt;/a&gt;&#39;)
# =&gt; &amp;lt;malformed &amp;amp; link
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/sanitize_helper.rb, line 150
      def strip_links(html)
        self.class.link_sanitizer.sanitize(html)
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/36c1591bcb5e0ee3084759c7f42a706fe5bb7ca7/actionview/lib/action_view/helpers/sanitize_helper.rb#L150" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-strip_tags">
            
              strip_tags(html)
            
          </h3>

          
            <div class="description">
              <p>Strips all HTML tags from <code>html</code>, including comments and special characters.</p>

<pre><code>strip_tags(&quot;Strip &lt;i&gt;these&lt;/i&gt; tags!&quot;)
# =&gt; Strip these tags!

strip_tags(&quot;&lt;b&gt;Bold&lt;/b&gt; no more!  &lt;a href=&#39;more.html&#39;&gt;See more here&lt;/a&gt;...&quot;)
# =&gt; Bold no more!  See more here...

strip_tags(&quot;&lt;div id=&#39;top-bar&#39;&gt;Welcome to my website!&lt;/div&gt;&quot;)
# =&gt; Welcome to my website!

strip_tags(&quot;&gt; A quote from Smith &amp; Wesson&quot;)
# =&gt; &amp;gt; A quote from Smith &amp;amp; Wesson
</code></pre>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">📝 Source code</span>
              </summary>

              <pre><code class="ruby"># File actionview/lib/action_view/helpers/sanitize_helper.rb, line 133
      def strip_tags(html)
        self.class.full_sanitizer.sanitize(html)&amp;.html_safe
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/36c1591bcb5e0ee3084759c7f42a706fe5bb7ca7/actionview/lib/action_view/helpers/sanitize_helper.rb#L133" target="_blank" class="github_url">🔎 See on GitHub</a>
              
            </details>
          
        </div>
        
      
    
  
</div>

    </div>
</div>

        <footer class="site-footer">
          <!-- <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span> -->
        </footer>
      </main>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.3.1/anchor.min.js" integrity="sha512-zPB79j2C+3sFS9zcA3vg/z6bVKzJVEyu9pY5w89akQRys76zpAT2t6S3wZKla3QQ14O5l/Yt0RUQ/DHXx82Y5g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script src="/assets/js/app.js"></script>
  <script src="/assets/js/search.js"></script>
</body>
</html>
