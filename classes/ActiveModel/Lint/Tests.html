<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
  <link href="/assets/css/style.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/monokai.min.css">
  <link rel="apple-touch-icon" href="icon.png">
  <meta name="theme-color" content="#fafafa">
  <link href="https://fonts.googleapis.com/css?family=Asap" rel="stylesheet">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>ActiveModel::Lint::Tests | RailsDoc(Œ≤)</title>
<meta name="generator" content="Jekyll v3.9.5" />
<meta property="og:title" content="ActiveModel::Lint::Tests" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Ruby on Rails API Documentation." />
<meta property="og:description" content="Ruby on Rails API Documentation." />
<link rel="canonical" href="https://railsdoc.github.io/classes/ActiveModel/Lint/Tests.html" />
<meta property="og:url" content="https://railsdoc.github.io/classes/ActiveModel/Lint/Tests.html" />
<meta property="og:site_name" content="RailsDoc(Œ≤)" />
<meta property="og:image" content="https://avatars.githubusercontent.com/u/4223" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:image" content="https://avatars.githubusercontent.com/u/4223" />
<meta property="twitter:title" content="ActiveModel::Lint::Tests" />
<meta name="twitter:site" content="@" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Ruby on Rails API Documentation.","headline":"ActiveModel::Lint::Tests","image":"https://avatars.githubusercontent.com/u/4223","url":"https://railsdoc.github.io/classes/ActiveModel/Lint/Tests.html"}</script>
<!-- End Jekyll SEO tag -->

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134470810-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-134470810-1');

    window.config = {
      rootPath: "/"
    }
  </script>
</head>
<body>
  <header class="navbar navbar-dark navbar-expand bg-dark flex-md-nowrap p-0 shadow sticky-header">
    <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="/">RailsDoc(Œ≤)</a>
    <form class="w-100 d-none d-md-flex" action="/search" method="get">
      <input id="search-form" class="form-control form-control-dark" type="text" placeholder="Search" aria-label="Search" name="q">
    </form>

    <ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex px-1">
      <li class="nav-item text-nowrap p-1">
        <div class="dropdown">
          <a class="dropdown-toggle nav-link" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            v7.1
          </a>
          <div class="dropdown-menu dropdown-menu-md-right" aria-labelledby="dropdownMenuLink">
            
    
    
    
        <a class="dropdown-item" href="/">v7.1</a>
    

    
    
    
        <a class="dropdown-item" href="/7.0/">v7.0</a>
    

    
    
    
        <a class="dropdown-item" href="/6.1/">v6.1</a>
    

    
    
    
        <a class="dropdown-item" href="/6.0/">v6.0</a>
    

    
    
    
        <a class="dropdown-item" href="/5.2/">v5.2</a>
    


          </div>
        </div>
      </li>
      <li class="nav-item text-nowrap p-1">
        <a class="nav-link p-2" href="https://github.com/railsdoc/railsdoc.github.io">GitHub</a>
      </li>
    </ul>
  </header>

  <div class="container-fluid">
    <div class="row">
      <nav class="col-12 col-md-3 col-xl-2 d-none d-md-block bg-light sidebar-sticky">
        <div id="navigation" class="sidebar-content">
        </div>
      </nav>

      <div class="col-12 col-md-3 col-xl-2 toc-content-sticky">
        <div class="toc-content"><ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#module-ActiveModel::Lint::Tests-label-Active+Model+Lint+Tests">Active Model Lint Tests</a></li>
<li class="toc-entry toc-h2"><a href="#methods">Methods</a></li>
<li class="toc-entry toc-h2"><a href="#instance-public-methods">Instance Public methods</a>
<ul>
<li class="toc-entry toc-h3"><a href="#method-i-test_errors_aref">
            
              test_errors_aref()
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-test_model_naming">
            
              test_model_naming()
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-test_persisted-3F">
            
              test_persisted?()
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-test_to_key">
            
              test_to_key()
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-test_to_param">
            
              test_to_param()
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-test_to_partial_path">
            
              test_to_partial_path()
            
          </a></li>
</ul>
</li>
</ul></div>
      </div>

      <main role="main" class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-4">
        <div class="main">
    <div class="banner">
        
            <span>Ruby on Rails 7.1.3</span><br />
        
        <div class="type">Module</div>
        <h1>
            ActiveModel::Lint::Tests
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/activemodel/lib/active_model/lint_rb.html">activemodel/lib/active_model/lint.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h2 id="module-ActiveModel::Lint::Tests-label-Active+Model+Lint+Tests">Active Model Lint Tests</h2>

<p>You can test whether an object is compliant with the Active Model <a href="../API.html"><code>API</code></a> by including <code>ActiveModel::Lint::Tests</code> in your TestCase. It will include tests that tell you whether your object is fully compliant, or if not, which aspects of the <a href="../API.html"><code>API</code></a> are not implemented.</p>

<p>Note an object is not required to implement all APIs in order to work with Action Pack. This module only intends to provide guidance in case you want all features out of the box.</p>

<p>These tests do not attempt to determine the semantic correctness of the returned values. For instance, you could implement <code>valid?</code> to always return <code>true</code>, and the tests would pass. It is up to you to ensure that the values are semantically meaningful.</p>

<p>Objects you pass in are expected to return a compliant object from a call to <code>to_model</code>. It is perfectly fine for <code>to_model</code> to return <code>self</code>.</p>

    </div>
  

  

  
  


  

  
    <h2 id="methods">Methods</h2>
    <ul>
      
        <li>
          <a href="#method-i-test_errors_aref">test_errors_aref</a>
        </li>
      
        <li>
          <a href="#method-i-test_model_naming">test_model_naming</a>
        </li>
      
        <li>
          <a href="#method-i-test_persisted-3F">test_persisted?</a>
        </li>
      
        <li>
          <a href="#method-i-test_to_key">test_to_key</a>
        </li>
      
        <li>
          <a href="#method-i-test_to_param">test_to_param</a>
        </li>
      
        <li>
          <a href="#method-i-test_to_partial_path">test_to_partial_path</a>
        </li>
      
    </ul>
  

  

  
    

    

    

    

    <!-- Methods -->
    
    
      <h2 id="instance-public-methods">Instance Public methods</h2>
      
        <div class="method">
          <h3 id="method-i-test_errors_aref">
            
              test_errors_aref()
            
          </h3>

          
            <div class="description">
              <p>Passes if the object‚Äôs model responds to <code>errors</code> and if calling <code>[](attribute)</code> on the result of this method returns an array. Fails otherwise.</p>

<p><code>errors[attribute]</code> is used to retrieve the errors of a model for a given attribute. If errors are present, the method should return an array of strings that are the errors for the attribute in question. If localization is used, the strings should be localized for the current locale. If no error is present, the method should return an empty array.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activemodel/lib/active_model/lint.rb, line 102
      def test_errors_aref
        assert_respond_to model, :errors
        assert_equal [], model.errors[:hello], &quot;errors#[] should return an empty Array&quot;
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/36c1591bcb5e0ee3084759c7f42a706fe5bb7ca7/activemodel/lib/active_model/lint.rb#L102" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-test_model_naming">
            
              test_model_naming()
            
          </h3>

          
            <div class="description">
              <p>Passes if the object‚Äôs model responds to <code>model_name</code> both as an instance method and as a class method, and if calling this method returns a string with some convenience methods: <code>:human</code>, <code>:singular</code> and <code>:plural</code>.</p>

<p>Check <a href="../Naming.html"><code>ActiveModel::Naming</code></a> for more information.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activemodel/lib/active_model/lint.rb, line 81
      def test_model_naming
        assert_respond_to model.class, :model_name
        model_name = model.class.model_name
        assert_respond_to model_name, :to_str
        assert_respond_to model_name.human, :to_str
        assert_respond_to model_name.singular, :to_str
        assert_respond_to model_name.plural, :to_str

        assert_respond_to model, :model_name
        assert_equal model.model_name, model.class.model_name
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/36c1591bcb5e0ee3084759c7f42a706fe5bb7ca7/activemodel/lib/active_model/lint.rb#L81" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-test_persisted-3F">
            
              test_persisted?()
            
          </h3>

          
            <div class="description">
              <p>Passes if the object‚Äôs model responds to <code>persisted?</code> and if calling this method returns either <code>true</code> or <code>false</code>. Fails otherwise.</p>

<p><code>persisted?</code> is used when calculating the URL for an object. If the object is not persisted, a form for that object, for instance, will route to the create action. If it is persisted, a form for the object will route to the update action.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activemodel/lib/active_model/lint.rb, line 70
      def test_persisted?
        assert_respond_to model, :persisted?
        assert_boolean model.persisted?, &quot;persisted?&quot;
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/36c1591bcb5e0ee3084759c7f42a706fe5bb7ca7/activemodel/lib/active_model/lint.rb#L70" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-test_to_key">
            
              test_to_key()
            
          </h3>

          
            <div class="description">
              <p>Passes if the object‚Äôs model responds to <code>to_key</code> and if calling this method returns <code>nil</code> when the object is not persisted. Fails otherwise.</p>

<p><code>to_key</code> returns an <a href="../../Enumerable.html"><code>Enumerable</code></a> of all (primary) key attributes of the model, and is used to a generate unique DOM id for the object.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activemodel/lib/active_model/lint.rb, line 31
      def test_to_key
        assert_respond_to model, :to_key
        def model.persisted?() false end
        assert model.to_key.nil?, &quot;to_key should return nil when `persisted?` returns false&quot;
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/36c1591bcb5e0ee3084759c7f42a706fe5bb7ca7/activemodel/lib/active_model/lint.rb#L31" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-test_to_param">
            
              test_to_param()
            
          </h3>

          
            <div class="description">
              <p>Passes if the object‚Äôs model responds to <code>to_param</code> and if calling this method returns <code>nil</code> when the object is not persisted. Fails otherwise.</p>

<p><code>to_param</code> is used to represent the object‚Äôs key in URLs. Implementers can decide to either raise an exception or provide a default in case the record uses a composite primary key. There are no tests for this behavior in lint because it doesn‚Äôt make sense to force any of the possible implementation strategies on the implementer.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activemodel/lib/active_model/lint.rb, line 46
      def test_to_param
        assert_respond_to model, :to_param
        def model.to_key() [1] end
        def model.persisted?() false end
        assert model.to_param.nil?, &quot;to_param should return nil when `persisted?` returns false&quot;
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/36c1591bcb5e0ee3084759c7f42a706fe5bb7ca7/activemodel/lib/active_model/lint.rb#L46" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
        <div class="method">
          <h3 id="method-i-test_to_partial_path">
            
              test_to_partial_path()
            
          </h3>

          
            <div class="description">
              <p>Passes if the object‚Äôs model responds to <code>to_partial_path</code> and if calling this method returns a string. Fails otherwise.</p>

<p><code>to_partial_path</code> is used for looking up partials. For example, a BlogPost model might return ‚Äúblog_posts/blog_post‚Äù.</p>
            </div>
          

          

          

          
          
            <details class="method__source">
              <summary>
                <span class="label">üìù Source code</span>
              </summary>

              <pre><code class="ruby"># File activemodel/lib/active_model/lint.rb, line 58
      def test_to_partial_path
        assert_respond_to model, :to_partial_path
        assert_kind_of String, model.to_partial_path
      end</code></pre>
              
                <a href="https://github.com/rails/rails/blob/36c1591bcb5e0ee3084759c7f42a706fe5bb7ca7/activemodel/lib/active_model/lint.rb#L58" target="_blank" class="github_url">üîé See on GitHub</a>
              
            </details>
          
        </div>
        
      
    
  
</div>

    </div>
</div>

        <footer class="site-footer">
          <!-- <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span> -->
        </footer>
      </main>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.3.1/anchor.min.js" integrity="sha512-zPB79j2C+3sFS9zcA3vg/z6bVKzJVEyu9pY5w89akQRys76zpAT2t6S3wZKla3QQ14O5l/Yt0RUQ/DHXx82Y5g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script src="/assets/js/app.js"></script>
  <script src="/assets/js/search.js"></script>
</body>
</html>
