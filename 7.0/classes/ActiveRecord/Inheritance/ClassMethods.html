<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
  <link href="/assets/css/style.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/monokai.min.css">
  <link rel="apple-touch-icon" href="icon.png">
  <meta name="theme-color" content="#fafafa">
  <link href="https://fonts.googleapis.com/css?family=Asap" rel="stylesheet">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>ActiveRecord::Inheritance::ClassMethods | RailsDoc(β)</title>
<meta name="generator" content="Jekyll v3.9.5" />
<meta property="og:title" content="ActiveRecord::Inheritance::ClassMethods" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Ruby on Rails API Documentation." />
<meta property="og:description" content="Ruby on Rails API Documentation." />
<link rel="canonical" href="https://railsdoc.github.io/7.0/classes/ActiveRecord/Inheritance/ClassMethods.html" />
<meta property="og:url" content="https://railsdoc.github.io/7.0/classes/ActiveRecord/Inheritance/ClassMethods.html" />
<meta property="og:site_name" content="RailsDoc(β)" />
<meta property="og:image" content="https://avatars.githubusercontent.com/u/4223" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:image" content="https://avatars.githubusercontent.com/u/4223" />
<meta property="twitter:title" content="ActiveRecord::Inheritance::ClassMethods" />
<meta name="twitter:site" content="@" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Ruby on Rails API Documentation.","headline":"ActiveRecord::Inheritance::ClassMethods","image":"https://avatars.githubusercontent.com/u/4223","url":"https://railsdoc.github.io/7.0/classes/ActiveRecord/Inheritance/ClassMethods.html"}</script>
<!-- End Jekyll SEO tag -->

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134470810-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-134470810-1');

    window.config = {
      rootPath: "/7.0/"
    }
  </script>
</head>
<body>
  <header class="navbar navbar-dark navbar-expand bg-dark flex-md-nowrap p-0 shadow sticky-header">
    <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="/">RailsDoc(β)</a>
    <form class="w-100 d-none d-md-flex" action="/search" method="get">
      <input id="search-form" class="form-control form-control-dark" type="text" placeholder="Search" aria-label="Search" name="q">
    </form>

    <ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex px-1">
      <li class="nav-item text-nowrap p-1">
        <div class="dropdown">
          <a class="dropdown-toggle nav-link" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            v7.0
          </a>
          <div class="dropdown-menu dropdown-menu-md-right" aria-labelledby="dropdownMenuLink">
            
    
    
    
        <a class="dropdown-item" href="/">v7.1</a>
    

    
    
    
        <a class="dropdown-item" href="/7.0/">v7.0</a>
    

    
    
    
        <a class="dropdown-item" href="/6.1/">v6.1</a>
    

    
    
    
        <a class="dropdown-item" href="/6.0/">v6.0</a>
    

    
    
    
        <a class="dropdown-item" href="/5.2/">v5.2</a>
    


          </div>
        </div>
      </li>
      <li class="nav-item text-nowrap p-1">
        <a class="nav-link p-2" href="https://github.com/railsdoc/railsdoc.github.io">GitHub</a>
      </li>
    </ul>
  </header>

  <div class="container-fluid">
    <div class="row">
      <nav class="col-12 col-md-3 col-xl-2 d-none d-md-block bg-light sidebar-sticky">
        <div id="navigation" class="sidebar-content">
        </div>
      </nav>

      <div class="col-12 col-md-3 col-xl-2 toc-content-sticky">
        <div class="toc-content"><ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#methods">Methods</a></li>
<li class="toc-entry toc-h2"><a href="#attributes">Attributes</a></li>
<li class="toc-entry toc-h2"><a href="#instance-public-methods">Instance Public methods</a>
<ul>
<li class="toc-entry toc-h3"><a href="#method-i-abstract_class-3F">
            
              abstract_class?()
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-base_class-3F">
            
              base_class?()
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-descends_from_active_record-3F">
            
              descends_from_active_record?()
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-inherited">
            
              inherited(subclass)
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-new">
            
              new(attributes = nil, &amp;block)
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-polymorphic_class_for">
            
              polymorphic_class_for(name)
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-polymorphic_name">
            
              polymorphic_name()
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-primary_abstract_class">
            
              primary_abstract_class()
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-sti_class_for">
            
              sti_class_for(type_name)
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-sti_name">
            
              sti_name()
            
          </a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#instance-protected-methods">Instance Protected methods</a>
<ul>
<li class="toc-entry toc-h3"><a href="#method-i-compute_type">
            
              compute_type(type_name)
            
          </a></li>
</ul>
</li>
</ul></div>
      </div>

      <main role="main" class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-4">
        <div class="main">
    <div class="banner">
        
            <span>Ruby on Rails 7.0.8</span><br />
        
        <div class="type">Module</div>
        <h1>
            ActiveRecord::Inheritance::ClassMethods
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/activerecord/lib/active_record/inheritance_rb.html">activerecord/lib/active_record/inheritance.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  

  

  
  


  

  
    <h2 id="methods">Methods</h2>
    <ul>
      
        <li>
          <a href="#method-i-abstract_class-3F">abstract_class?</a>
        </li>
      
        <li>
          <a href="#method-i-base_class-3F">base_class?</a>
        </li>
      
        <li>
          <a href="#method-i-compute_type">compute_type</a>
        </li>
      
        <li>
          <a href="#method-i-descends_from_active_record-3F">descends_from_active_record?</a>
        </li>
      
        <li>
          <a href="#method-i-inherited">inherited</a>
        </li>
      
        <li>
          <a href="#method-i-new">new</a>
        </li>
      
        <li>
          <a href="#method-i-polymorphic_class_for">polymorphic_class_for</a>
        </li>
      
        <li>
          <a href="#method-i-polymorphic_name">polymorphic_name</a>
        </li>
      
        <li>
          <a href="#method-i-primary_abstract_class">primary_abstract_class</a>
        </li>
      
        <li>
          <a href="#method-i-sti_class_for">sti_class_for</a>
        </li>
      
        <li>
          <a href="#method-i-sti_name">sti_name</a>
        </li>
      
    </ul>
  

  

  
    

    

    

    
      <!-- Section attributes -->
      <h2 id="attributes">Attributes</h2>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>abstract_class</td>
            <td class='attr-desc'><p>Set this to <code>true</code> if this is an abstract class (see <code>abstract_class?</code>). If you are using inheritance with Active Record and don’t want a class to be considered as part of the STI hierarchy, you must set this to true. <code>ApplicationRecord</code>, for example, is generated as an abstract class.</p>

<p>Consider the following default behaviour:</p>

<pre><code>Shape = Class.new(ActiveRecord::Base)
Polygon = Class.new(Shape)
Square = Class.new(Polygon)

Shape.table_name   # =&gt; &quot;shapes&quot;
Polygon.table_name # =&gt; &quot;shapes&quot;
Square.table_name  # =&gt; &quot;shapes&quot;
Shape.create!      # =&gt; #&lt;Shape id: 1, type: nil&gt;
Polygon.create!    # =&gt; #&lt;Polygon id: 2, type: &quot;Polygon&quot;&gt;
Square.create!     # =&gt; #&lt;Square id: 3, type: &quot;Square&quot;&gt;
</code></pre>

<p>However, when using <code>abstract_class</code>, <code>Shape</code> is omitted from the hierarchy:</p>

<pre><code>class Shape &lt; ActiveRecord::Base
  self.abstract_class = true
end
Polygon = Class.new(Shape)
Square = Class.new(Polygon)

Shape.table_name   # =&gt; nil
Polygon.table_name # =&gt; &quot;polygons&quot;
Square.table_name  # =&gt; &quot;polygons&quot;
Shape.create!      # =&gt; NotImplementedError: Shape is an abstract class and cannot be instantiated.
Polygon.create!    # =&gt; #&lt;Polygon id: 1, type: nil&gt;
Square.create!     # =&gt; #&lt;Square id: 2, type: &quot;Square&quot;&gt;
</code></pre>

<p>Note that in the above example, to disallow the creation of a plain <code>Polygon</code>, you should use <code>validates :type, presence: true</code>, instead of setting it as an abstract class. This way, <code>Polygon</code> will stay in the hierarchy, and Active Record will continue to correctly derive the table name.</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>base_class</td>
            <td class='attr-desc'><p>Returns the class descending directly from <a href="../Base.html"><code>ActiveRecord::Base</code></a>, or an abstract class, if any, in the inheritance hierarchy.</p>

<p>If A extends <a href="../Base.html"><code>ActiveRecord::Base</code></a>, A.base_class will return A. If B descends from A through some arbitrarily deep hierarchy, B.base_class will return A.</p>

<p>If B &lt; A and C &lt; B and if A is an <a href="ClassMethods.html#attribute-i-abstract_class"><code>abstract_class</code></a> then both B.base_class and C.base_class would return B as the answer since A is an abstract_class.</p></td>
          </tr>
        
      </table>
    

    <!-- Methods -->
    
    
      <h2 id="instance-public-methods">Instance Public methods</h2>
      
        <div class="method">
          <h3 id="method-i-abstract_class-3F">
            
              abstract_class?()
            
          </h3>

          
            <div class="description">
              <p>Returns whether this class is an abstract class or not.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-abstract_class-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/inheritance.rb, line 156</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">abstract_class?</span>
  <span class="ruby-keyword">defined?</span>(<span class="ruby-ivar">@abstract_class</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@abstract_class</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-base_class-3F">
            
              base_class?()
            
          </h3>

          
            <div class="description">
              <p>Returns whether the class is a base class. See <a href="ClassMethods.html#attribute-i-base_class"><code>base_class</code></a> for more information.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-base_class-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/inheritance.rb, line 108</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">base_class?</span>
  <span class="ruby-identifier">base_class</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-descends_from_active_record-3F">
            
              descends_from_active_record?()
            
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if this does not need STI type condition. Returns <code>false</code> if STI type condition needs to be applied.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-descends_from_active_record-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/inheritance.rb, line 81</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">descends_from_active_record?</span>
  <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Base</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">abstract_class?</span>
    <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">descends_from_active_record?</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">superclass</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Base</span> <span class="ruby-operator">||</span> <span class="ruby-operator">!</span><span class="ruby-identifier">columns_hash</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">inheritance_column</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-inherited">
            
              inherited(subclass)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-inherited_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/inheritance.rb, line 213</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">inherited</span>(<span class="ruby-identifier">subclass</span>)
  <span class="ruby-identifier">subclass</span>.<span class="ruby-identifier">set_base_class</span>
  <span class="ruby-identifier">subclass</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@_type_candidates_cache</span>, <span class="ruby-constant">Concurrent</span><span class="ruby-operator">::</span><span class="ruby-constant">Map</span>.<span class="ruby-identifier">new</span>)
  <span class="ruby-keyword">super</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-new">
            
              new(attributes = nil, &amp;block)
            
          </h3>

          
            <div class="description">
              <p>Determines if one of the attributes passed in is the inheritance column, and if the inheritance column is attr accessible, it initializes an instance of the given subclass instead of the base class.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-new_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/inheritance.rb, line 55</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">new</span>(<span class="ruby-identifier">attributes</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">abstract_class?</span> <span class="ruby-operator">||</span> <span class="ruby-keyword">self</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Base</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotImplementedError</span>, <span class="ruby-node">&quot;#{self} is an abstract class and cannot be instantiated.&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">_has_attribute?</span>(<span class="ruby-identifier">inheritance_column</span>)
    <span class="ruby-identifier">subclass</span> = <span class="ruby-identifier">subclass_from_attributes</span>(<span class="ruby-identifier">attributes</span>)

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">subclass</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">scope_attributes</span> = <span class="ruby-identifier">current_scope</span>&amp;.<span class="ruby-identifier">scope_for_create</span>
      <span class="ruby-identifier">subclass</span> = <span class="ruby-identifier">subclass_from_attributes</span>(<span class="ruby-identifier">scope_attributes</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">subclass</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">base_class?</span>
      <span class="ruby-identifier">subclass</span> = <span class="ruby-identifier">subclass_from_attributes</span>(<span class="ruby-identifier">column_defaults</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">subclass</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">subclass</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">self</span>
    <span class="ruby-identifier">subclass</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">attributes</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">super</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-polymorphic_class_for">
            
              polymorphic_class_for(name)
            
          </h3>

          
            <div class="description">
              <p>Returns the class for the provided <code>name</code>.</p>

<p>It is used to find the class correspondent to the value stored in the polymorphic type column.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-polymorphic_class_for_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/inheritance.rb, line 205</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">polymorphic_class_for</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">store_full_class_name</span>
    <span class="ruby-identifier">name</span>.<span class="ruby-identifier">constantize</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">compute_type</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-polymorphic_name">
            
              polymorphic_name()
            
          </h3>

          
            <div class="description">
              <p>Returns the value to be stored in the polymorphic type column for Polymorphic <a href="../Associations.html"><code>Associations</code></a>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-polymorphic_name_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/inheritance.rb, line 198</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">polymorphic_name</span>
  <span class="ruby-identifier">store_full_class_name</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">base_class</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">base_class</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">demodulize</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-primary_abstract_class">
            
              primary_abstract_class()
            
          </h3>

          
            <div class="description">
              <p>Sets the application record class for Active Record</p>

<p>This is useful if your application uses a different class than ApplicationRecord for your primary abstract class. This class will share a database connection with Active Record. It is the class that connects to your primary database.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-primary_abstract_class_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/inheritance.rb, line 166</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">primary_abstract_class</span>
  <span class="ruby-keyword">if</span> <span class="ruby-constant">ActiveRecord</span>.<span class="ruby-identifier">application_record_class</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">ActiveRecord</span>.<span class="ruby-identifier">application_record_class</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">name</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;The `primary_abstract_class` is already set to #{ActiveRecord.application_record_class.inspect}. There can only be one `primary_abstract_class` in an application.&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">abstract_class</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-constant">ActiveRecord</span>.<span class="ruby-identifier">application_record_class</span> = <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-sti_class_for">
            
              sti_class_for(type_name)
            
          </h3>

          
            <div class="description">
              <p>Returns the class for the provided <code>type_name</code>.</p>

<p>It is used to find the class correspondent to the value stored in the inheritance column.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-sti_class_for_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/inheritance.rb, line 183</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">sti_class_for</span>(<span class="ruby-identifier">type_name</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">store_full_sti_class</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">store_full_class_name</span>
    <span class="ruby-identifier">type_name</span>.<span class="ruby-identifier">constantize</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">compute_type</span>(<span class="ruby-identifier">type_name</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">NameError</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">SubclassNotFound</span>,
    <span class="ruby-node">&quot;The single-table inheritance mechanism failed to locate the subclass: &#39;#{type_name}&#39;. &quot;</span> \
    <span class="ruby-node">&quot;This error is raised because the column &#39;#{inheritance_column}&#39; is reserved for storing the class in case of inheritance. &quot;</span> \
    <span class="ruby-string">&quot;Please rename this column if you didn&#39;t intend it to be used for storing the inheritance class &quot;</span> \
    <span class="ruby-node">&quot;or overwrite #{name}.inheritance_column to use another column for that information.&quot;</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-sti_name">
            
              sti_name()
            
          </h3>

          
            <div class="description">
              <p>Returns the value to be stored in the inheritance column for STI.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-sti_name_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/inheritance.rb, line 176</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">sti_name</span>
  <span class="ruby-identifier">store_full_sti_class</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">store_full_class_name</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">demodulize</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
      
      <h2 id="instance-protected-methods">Instance Protected methods</h2>
      
        <div class="method">
          <h3 id="method-i-compute_type">
            
              compute_type(type_name)
            
          </h3>

          
            <div class="description">
              <p>Returns the class type of the record using the current module as a prefix. So descendants of MyApp::Business::Account would appear as MyApp::Business::AccountSubclass.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-compute_type_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/inheritance.rb, line 235</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">compute_type</span>(<span class="ruby-identifier">type_name</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">type_name</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">&quot;::&quot;</span>)
    <span class="ruby-comment"># If the type is prefixed with a scope operator then we assume that</span>
    <span class="ruby-comment"># the type_name is an absolute reference.</span>
    <span class="ruby-identifier">type_name</span>.<span class="ruby-identifier">constantize</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">type_candidate</span> = <span class="ruby-ivar">@_type_candidates_cache</span>[<span class="ruby-identifier">type_name</span>]
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">type_candidate</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">type_constant</span> = <span class="ruby-identifier">type_candidate</span>.<span class="ruby-identifier">safe_constantize</span>
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">type_constant</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-comment"># Build a list of candidates to search for</span>
    <span class="ruby-identifier">candidates</span> = []
    <span class="ruby-identifier">name</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-regexp">/::|$/</span>) { <span class="ruby-identifier">candidates</span>.<span class="ruby-identifier">unshift</span> <span class="ruby-node">&quot;#{$`}::#{type_name}&quot;</span> }
    <span class="ruby-identifier">candidates</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">type_name</span>

    <span class="ruby-identifier">candidates</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">candidate</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">constant</span> = <span class="ruby-identifier">candidate</span>.<span class="ruby-identifier">safe_constantize</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">candidate</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">constant</span>.<span class="ruby-identifier">to_s</span>
        <span class="ruby-ivar">@_type_candidates_cache</span>[<span class="ruby-identifier">type_name</span>] = <span class="ruby-identifier">candidate</span>
        <span class="ruby-keyword">return</span> <span class="ruby-identifier">constant</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">raise</span> <span class="ruby-constant">NameError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;uninitialized constant #{candidates.first}&quot;</span>, <span class="ruby-identifier">candidates</span>.<span class="ruby-identifier">first</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
      
    
  
</div>

    </div>
</div>

        <footer class="site-footer">
          <!-- <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span> -->
        </footer>
      </main>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.3.1/anchor.min.js" integrity="sha512-zPB79j2C+3sFS9zcA3vg/z6bVKzJVEyu9pY5w89akQRys76zpAT2t6S3wZKla3QQ14O5l/Yt0RUQ/DHXx82Y5g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script src="/assets/js/app.js"></script>
  <script src="/assets/js/search.js"></script>
</body>
</html>
