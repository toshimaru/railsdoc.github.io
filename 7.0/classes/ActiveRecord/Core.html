<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
  <link href="/assets/css/style.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/monokai.min.css">
  <link rel="apple-touch-icon" href="icon.png">
  <meta name="theme-color" content="#fafafa">
  <link href="https://fonts.googleapis.com/css?family=Asap" rel="stylesheet">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>ActiveRecord::Core | RailsDoc(β)</title>
<meta name="generator" content="Jekyll v3.9.5" />
<meta property="og:title" content="ActiveRecord::Core" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Ruby on Rails API Documentation." />
<meta property="og:description" content="Ruby on Rails API Documentation." />
<link rel="canonical" href="https://railsdoc.github.io/7.0/classes/ActiveRecord/Core.html" />
<meta property="og:url" content="https://railsdoc.github.io/7.0/classes/ActiveRecord/Core.html" />
<meta property="og:site_name" content="RailsDoc(β)" />
<meta property="og:image" content="https://avatars.githubusercontent.com/u/4223" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:image" content="https://avatars.githubusercontent.com/u/4223" />
<meta property="twitter:title" content="ActiveRecord::Core" />
<meta name="twitter:site" content="@" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Ruby on Rails API Documentation.","headline":"ActiveRecord::Core","image":"https://avatars.githubusercontent.com/u/4223","url":"https://railsdoc.github.io/7.0/classes/ActiveRecord/Core.html"}</script>
<!-- End Jekyll SEO tag -->

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134470810-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-134470810-1');

    window.config = {
      rootPath: "/7.0/"
    }
  </script>
</head>
<body>
  <header class="navbar navbar-dark navbar-expand bg-dark flex-md-nowrap p-0 shadow sticky-header">
    <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="/">RailsDoc(β)</a>
    <form class="w-100 d-none d-md-flex" action="/search" method="get">
      <input id="search-form" class="form-control form-control-dark" type="text" placeholder="Search" aria-label="Search" name="q">
    </form>

    <ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex px-1">
      <li class="nav-item text-nowrap p-1">
        <div class="dropdown">
          <a class="dropdown-toggle nav-link" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            v7.0
          </a>
          <div class="dropdown-menu dropdown-menu-md-right" aria-labelledby="dropdownMenuLink">
            
    
    
    
        <a class="dropdown-item" href="/">v7.1</a>
    

    
    
    
        <a class="dropdown-item" href="/7.0/">v7.0</a>
    

    
    
    
        <a class="dropdown-item" href="/6.1/">v6.1</a>
    

    
    
    
        <a class="dropdown-item" href="/6.0/">v6.0</a>
    

    
    
    
        <a class="dropdown-item" href="/5.2/">v5.2</a>
    


          </div>
        </div>
      </li>
      <li class="nav-item text-nowrap p-1">
        <a class="nav-link p-2" href="https://github.com/railsdoc/railsdoc.github.io">GitHub</a>
      </li>
    </ul>
  </header>

  <div class="container-fluid">
    <div class="row">
      <nav class="col-12 col-md-3 col-xl-2 d-none d-md-block bg-light sidebar-sticky">
        <div id="navigation" class="sidebar-content">
        </div>
      </nav>

      <div class="col-12 col-md-3 col-xl-2 toc-content-sticky">
        <div class="toc-content"><ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#namespace">Namespace</a>
<ul>
<li class="toc-entry toc-h3"><a href="#module">Module</a></li>
<li class="toc-entry toc-h3"><a href="#class">Class</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#methods">Methods</a></li>
<li class="toc-entry toc-h2"><a href="#attributes">Attributes</a></li>
<li class="toc-entry toc-h2"><a href="#class-public-methods">Class Public methods</a>
<ul>
<li class="toc-entry toc-h3"><a href="#method-c-configurations">
            
              configurations()
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-c-configurations-3D">
            
              configurations=(config)
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-c-connection_handler">
            
              connection_handler()
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-c-connection_handler-3D">
            
              connection_handler=(handler)
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-c-connection_handlers">
            
              connection_handlers()
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-c-connection_handlers-3D">
            
              connection_handlers=(handlers)
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-c-current_preventing_writes">
            
              current_preventing_writes()
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-c-current_role">
            
              current_role()
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-c-current_shard">
            
              current_shard()
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-c-destroy_association_async_job">
            
              destroy_association_async_job
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-c-enumerate_columns_in_select_statements">
            
              enumerate_columns_in_select_statements
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-c-logger">
            
              logger
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-c-new">
            
              new(attributes = nil)
            
          </a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#instance-public-methods">Instance Public methods</a>
<ul>
<li class="toc-entry toc-h3"><a href="#method-i-3C-3D-3E">
            
              &lt;=&gt;(other_object)
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-3D-3D">
            
              ==(comparison_object)
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-clone">
            
              clone
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-connection_handler">
            
              connection_handler()
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-dup">
            
              dup
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-encode_with">
            
              encode_with(coder)
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-eql-3F">
            
              eql?(comparison_object)
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-freeze">
            
              freeze()
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-frozen-3F">
            
              frozen?()
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-hash">
            
              hash()
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-init_with">
            
              init_with(coder, &amp;block)
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-inspect">
            
              inspect()
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-pretty_print">
            
              pretty_print(pp)
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-readonly-21">
            
              readonly!()
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-readonly-3F">
            
              readonly?()
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-slice">
            
              slice(*methods)
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-strict_loading-21">
            
              strict_loading!(value = true, mode: :all)
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-strict_loading-21-label-Parameters-3A">Parameters:</a></li>
<li class="toc-entry toc-h3"><a href="#method-i-strict_loading-21-label-Example-3A">Example:</a></li>
<li class="toc-entry toc-h3"><a href="#method-i-strict_loading-3F">
            
              strict_loading?()
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-strict_loading_n_plus_one_only-3F">
            
              strict_loading_n_plus_one_only?()
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-values_at">
            
              values_at(*methods)
            
          </a></li>
</ul>
</li>
</ul></div>
      </div>

      <main role="main" class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-4">
        <div class="main">
    <div class="banner">
        
            <span>Ruby on Rails 7.0.8</span><br />
        
        <div class="type">Module</div>
        <h1>
            ActiveRecord::Core
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/activerecord/lib/active_record/core_rb.html">activerecord/lib/active_record/core.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  

  

  
  


  
    <h2 id="namespace">Namespace</h2>

    
      <h3 id="module">Module</h3>
      <ul>
      
        <li><a href="Core/ClassMethods.html">ActiveRecord::Core::ClassMethods</a></li>
      
      </ul>
    

    
      <h3 id="class">Class</h3>
      <ul>
      
        <li><a href="Core/InspectionMask.html">ActiveRecord::Core::InspectionMask</a></li>
      
      </ul>
    
  

  
    <h2 id="methods">Methods</h2>
    <ul>
      
        <li>
          <a href="#method-i-3C-3D-3E">&lt;=&gt;</a>
        </li>
      
        <li>
          <a href="#method-i-3D-3D">==</a>
        </li>
      
        <li>
          <a href="#method-i-clone">clone</a>
        </li>
      
        <li>
          <a href="#method-c-configurations">configurations</a>
        </li>
      
        <li>
          <a href="#method-c-configurations-3D">configurations=</a>
        </li>
      
        <li>
          <a href="#method-i-connection_handler">connection_handler</a>
        </li>
      
        <li>
          <a href="#method-c-connection_handler">connection_handler</a>
        </li>
      
        <li>
          <a href="#method-c-connection_handler-3D">connection_handler=</a>
        </li>
      
        <li>
          <a href="#method-c-connection_handlers">connection_handlers</a>
        </li>
      
        <li>
          <a href="#method-c-connection_handlers-3D">connection_handlers=</a>
        </li>
      
        <li>
          <a href="#method-c-current_preventing_writes">current_preventing_writes</a>
        </li>
      
        <li>
          <a href="#method-c-current_role">current_role</a>
        </li>
      
        <li>
          <a href="#method-c-current_shard">current_shard</a>
        </li>
      
        <li>
          <a href="#method-c-destroy_association_async_job">destroy_association_async_job</a>
        </li>
      
        <li>
          <a href="#method-i-dup">dup</a>
        </li>
      
        <li>
          <a href="#method-i-encode_with">encode_with</a>
        </li>
      
        <li>
          <a href="#method-c-enumerate_columns_in_select_statements">enumerate_columns_in_select_statements</a>
        </li>
      
        <li>
          <a href="#method-i-eql-3F">eql?</a>
        </li>
      
        <li>
          <a href="#method-i-freeze">freeze</a>
        </li>
      
        <li>
          <a href="#method-i-frozen-3F">frozen?</a>
        </li>
      
        <li>
          <a href="#method-i-hash">hash</a>
        </li>
      
        <li>
          <a href="#method-i-init_with">init_with</a>
        </li>
      
        <li>
          <a href="#method-i-inspect">inspect</a>
        </li>
      
        <li>
          <a href="#method-c-logger">logger</a>
        </li>
      
        <li>
          <a href="#method-c-new">new</a>
        </li>
      
        <li>
          <a href="#method-i-pretty_print">pretty_print</a>
        </li>
      
        <li>
          <a href="#method-i-readonly-21">readonly!</a>
        </li>
      
        <li>
          <a href="#method-i-readonly-3F">readonly?</a>
        </li>
      
        <li>
          <a href="#method-i-slice">slice</a>
        </li>
      
        <li>
          <a href="#method-i-strict_loading-21">strict_loading!</a>
        </li>
      
        <li>
          <a href="#method-i-strict_loading-3F">strict_loading?</a>
        </li>
      
        <li>
          <a href="#method-i-strict_loading_n_plus_one_only-3F">strict_loading_n_plus_one_only?</a>
        </li>
      
        <li>
          <a href="#method-i-values_at">values_at</a>
        </li>
      
    </ul>
  

  

  
    

    

    

    
      <!-- Section attributes -->
      <h2 id="attributes">Attributes</h2>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [R]
            </td>
            <td class='attr-name'>strict_loading_mode</td>
            <td class='attr-desc'></td>
          </tr>
        
      </table>
    

    <!-- Methods -->
    
      <h2 id="class-public-methods">Class Public methods</h2>
      
        <div class="method">
          <h3 id="method-c-configurations">
            
              configurations()
            
          </h3>

          
            <div class="description">
              <p>Returns fully resolved <a href="DatabaseConfigurations.html"><code>ActiveRecord::DatabaseConfigurations</code></a> object</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-c-configurations_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 56</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">configurations</span>
  <span class="ruby-identifier">@@configurations</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-c-configurations-3D">
            
              configurations=(config)
            
          </h3>

          
            <div class="description">
              <p>Contains the database configuration - as is typically stored in config/database.yml - as an <a href="DatabaseConfigurations.html"><code>ActiveRecord::DatabaseConfigurations</code></a> object.</p>

<p>For example, the following database.yml…</p>

<pre><code>development:
  adapter: sqlite3
  database: db/development.sqlite3

production:
  adapter: sqlite3
  database: db/production.sqlite3
</code></pre>

<p>…would result in <a href="Core.html#method-c-configurations"><code>ActiveRecord::Base.configurations</code></a> to look like this:</p>

<pre><code>#&lt;ActiveRecord::DatabaseConfigurations:0x00007fd1acbdf800 @configurations=[
  #&lt;ActiveRecord::DatabaseConfigurations::HashConfig:0x00007fd1acbded10 @env_name=&quot;development&quot;,
    @name=&quot;primary&quot;, @config={adapter: &quot;sqlite3&quot;, database: &quot;db/development.sqlite3&quot;}&gt;,
  #&lt;ActiveRecord::DatabaseConfigurations::HashConfig:0x00007fd1acbdea90 @env_name=&quot;production&quot;,
    @name=&quot;primary&quot;, @config={adapter: &quot;sqlite3&quot;, database: &quot;db/production.sqlite3&quot;}&gt;
]&gt;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-c-configurations-3D_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 50</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">configurations=</span>(<span class="ruby-identifier">config</span>)
  <span class="ruby-identifier">@@configurations</span> = <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">DatabaseConfigurations</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">config</span>)
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-c-connection_handler">
            
              connection_handler()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-c-connection_handler_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 94</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">connection_handler</span>
  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">IsolatedExecutionState</span>[<span class="ruby-value">:active_record_connection_handler</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">default_connection_handler</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-c-connection_handler-3D">
            
              connection_handler=(handler)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-c-connection_handler-3D_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 98</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">connection_handler=</span>(<span class="ruby-identifier">handler</span>)
  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">IsolatedExecutionState</span>[<span class="ruby-value">:active_record_connection_handler</span>] = <span class="ruby-identifier">handler</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-c-connection_handlers">
            
              connection_handlers()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-c-connection_handlers_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 102</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">connection_handlers</span>
  <span class="ruby-keyword">if</span> <span class="ruby-constant">ActiveRecord</span>.<span class="ruby-identifier">legacy_connection_handling</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotImplementedError</span>, <span class="ruby-string">&quot;The new connection handling does not support accessing multiple connection handlers.&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">@@connection_handlers</span> <span class="ruby-operator">||=</span> {}
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-c-connection_handlers-3D">
            
              connection_handlers=(handlers)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-c-connection_handlers-3D_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 111</span>
      <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">connection_handlers=</span>(<span class="ruby-identifier">handlers</span>)
        <span class="ruby-keyword">if</span> <span class="ruby-constant">ActiveRecord</span>.<span class="ruby-identifier">legacy_connection_handling</span>
          <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-identifier">&lt;&lt;~MSG</span>)
<span class="ruby-value">            Using legacy connection handling is deprecated. Please set
            `legacy_connection_handling` to `false` in your application.

            The new connection handling does not support `connection_handlers`
            getter and setter.

            Read more about how to migrate at: https://guides.rubyonrails.org/active_record_multiple_databases.html#migrate-to-the-new-connection-handling
</span><span class="ruby-identifier">          MSG</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotImplementedError</span>, <span class="ruby-string">&quot;The new connection handling does not support multiple connection handlers.&quot;</span>
        <span class="ruby-keyword">end</span>

        <span class="ruby-identifier">@@connection_handlers</span> = <span class="ruby-identifier">handlers</span>
      <span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-c-current_preventing_writes">
            
              current_preventing_writes()
            
          </h3>

          
            <div class="description">
              <p>Returns the symbol representing the current setting for preventing writes.</p>

<pre><code>ActiveRecord::Base.connected_to(role: :reading) do
  ActiveRecord::Base.current_preventing_writes #=&gt; true
end

ActiveRecord::Base.connected_to(role: :writing) do
  ActiveRecord::Base.current_preventing_writes #=&gt; false
end
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-c-current_preventing_writes_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 188</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">current_preventing_writes</span>
  <span class="ruby-keyword">if</span> <span class="ruby-constant">ActiveRecord</span>.<span class="ruby-identifier">legacy_connection_handling</span>
    <span class="ruby-identifier">connection_handler</span>.<span class="ruby-identifier">prevent_writes</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">connected_to_stack</span>.<span class="ruby-identifier">reverse_each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">hash</span>[<span class="ruby-value">:prevent_writes</span>] <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">hash</span>[<span class="ruby-value">:prevent_writes</span>].<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">hash</span>[<span class="ruby-value">:klasses</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-constant">Base</span>)
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">hash</span>[<span class="ruby-value">:prevent_writes</span>] <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">hash</span>[<span class="ruby-value">:prevent_writes</span>].<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">hash</span>[<span class="ruby-value">:klasses</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">connection_class_for_self</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-c-current_role">
            
              current_role()
            
          </h3>

          
            <div class="description">
              <p>Returns the symbol representing the current connected role.</p>

<pre><code>ActiveRecord::Base.connected_to(role: :writing) do
  ActiveRecord::Base.current_role #=&gt; :writing
end

ActiveRecord::Base.connected_to(role: :reading) do
  ActiveRecord::Base.current_role #=&gt; :reading
end
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-c-current_role_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 147</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">current_role</span>
  <span class="ruby-keyword">if</span> <span class="ruby-constant">ActiveRecord</span>.<span class="ruby-identifier">legacy_connection_handling</span>
    <span class="ruby-identifier">connection_handlers</span>.<span class="ruby-identifier">key</span>(<span class="ruby-identifier">connection_handler</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">default_role</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">connected_to_stack</span>.<span class="ruby-identifier">reverse_each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">hash</span>[<span class="ruby-value">:role</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">hash</span>[<span class="ruby-value">:role</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">hash</span>[<span class="ruby-value">:klasses</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-constant">Base</span>)
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">hash</span>[<span class="ruby-value">:role</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">hash</span>[<span class="ruby-value">:role</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">hash</span>[<span class="ruby-value">:klasses</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">connection_class_for_self</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">default_role</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-c-current_shard">
            
              current_shard()
            
          </h3>

          
            <div class="description">
              <p>Returns the symbol representing the current connected shard.</p>

<pre><code>ActiveRecord::Base.connected_to(role: :reading) do
  ActiveRecord::Base.current_shard #=&gt; :default
end

ActiveRecord::Base.connected_to(role: :writing, shard: :one) do
  ActiveRecord::Base.current_shard #=&gt; :one
end
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-c-current_shard_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 169</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">current_shard</span>
  <span class="ruby-identifier">connected_to_stack</span>.<span class="ruby-identifier">reverse_each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">hash</span>[<span class="ruby-value">:shard</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">hash</span>[<span class="ruby-value">:shard</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">hash</span>[<span class="ruby-value">:klasses</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-constant">Base</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">hash</span>[<span class="ruby-value">:shard</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">hash</span>[<span class="ruby-value">:shard</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">hash</span>[<span class="ruby-value">:klasses</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">connection_class_for_self</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">default_shard</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-c-destroy_association_async_job">
            
              destroy_association_async_job
            
          </h3>

          
            <div class="description">
              <p>Specifies the job used to destroy associations in the background</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-c-destroy_association_async_job_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 26</span>
<span class="ruby-identifier">class_attribute</span> <span class="ruby-value">:destroy_association_async_job</span>, <span class="ruby-value">instance_writer:</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">instance_predicate:</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">default:</span> <span class="ruby-keyword">false</span>
</code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-c-enumerate_columns_in_select_statements">
            
              enumerate_columns_in_select_statements
            
          </h3>

          
            <div class="description">
              <p>Force enumeration of all columns in SELECT statements. e.g. <code>SELECT first_name, last_name FROM ...</code> instead of <code>SELECT * FROM ...</code> This avoids <code>PreparedStatementCacheExpired</code> errors when a column is added to the database while the app is running.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-c-enumerate_columns_in_select_statements_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 66</span>
<span class="ruby-identifier">class_attribute</span> <span class="ruby-value">:enumerate_columns_in_select_statements</span>, <span class="ruby-value">instance_accessor:</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">default:</span> <span class="ruby-keyword">false</span>
</code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-c-logger">
            
              logger
            
          </h3>

          
            <div class="description">
              <p>Accepts a logger conforming to the interface of Log4r which is then passed on to any new database connections made and which can be retrieved on both a class and instance level by calling <code>logger</code>.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-c-logger_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 20</span>
<span class="ruby-identifier">class_attribute</span> <span class="ruby-value">:logger</span>, <span class="ruby-value">instance_writer:</span> <span class="ruby-keyword">false</span>
</code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-c-new">
            
              new(attributes = nil)
            
          </h3>

          
            <div class="description">
              <p>New objects can be instantiated as either empty (pass no construction parameter) or pre-set with attributes but not yet saved (pass a hash with key names matching the associated table column names). In both instances, valid attribute keys are determined by the column names of the associated table – hence you can’t have attributes that aren’t part of the table columns.</p>

<h4 id="method-c-new-label-Example-3A">Example:</h4>

<pre><code># Instantiates a single new object
User.new(first_name: &#39;Jamie&#39;)
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-c-new_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 461</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">initialize</span>(<span class="ruby-identifier">attributes</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-ivar">@new_record</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-ivar">@attributes</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">_default_attributes</span>.<span class="ruby-identifier">deep_dup</span>

  <span class="ruby-identifier">init_internals</span>
  <span class="ruby-identifier">initialize_internals_callback</span>

  <span class="ruby-identifier">assign_attributes</span>(<span class="ruby-identifier">attributes</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">attributes</span>

  <span class="ruby-keyword">yield</span> <span class="ruby-keyword">self</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
  <span class="ruby-identifier">_run_initialize_callbacks</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
      
    
      <h2 id="instance-public-methods">Instance Public methods</h2>
      
        <div class="method">
          <h3 id="method-i-3C-3D-3E">
            
              &lt;=&gt;(other_object)
            
          </h3>

          
            <div class="description">
              <p>Allows sort on objects</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-3C-3D-3E_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 614</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">&lt;=&gt;</span>(<span class="ruby-identifier">other_object</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">other_object</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>)
    <span class="ruby-identifier">to_key</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">other_object</span>.<span class="ruby-identifier">to_key</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">super</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-3D-3D">
            
              ==(comparison_object)
            
          </h3>

          
            <div class="description">
              <p>Returns true if <code>comparison_object</code> is the same exact object, or <code>comparison_object</code> is of the same type and <code>self</code> has an ID and it is equal to <code>comparison_object.id</code>.</p>

<p>Note that new records are different from any other record by definition, unless the other record is the receiver itself. Besides, if you fetch existing records with <code>select</code> and leave the ID out, you’re on your own, this predicate will return false.</p>

<p>Note also that destroying a record preserves its ID in the model instance, so deleted models are still comparable.</p>
            </div>
          

          
            <div class="aka">
              Also aliased as: <a href="Core.html#method-i-eql-3F">eql?</a>
            </div>
          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-3D-3D_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 580</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">==</span>(<span class="ruby-identifier">comparison_object</span>)
  <span class="ruby-keyword">super</span> <span class="ruby-operator">||</span>
    <span class="ruby-identifier">comparison_object</span>.<span class="ruby-identifier">instance_of?</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>) <span class="ruby-operator">&amp;&amp;</span>
    <span class="ruby-operator">!</span><span class="ruby-identifier">id</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span>
    <span class="ruby-identifier">comparison_object</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">id</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-clone">
            
              clone
            
          </h3>

          
            <div class="description">
              <p>Identical to Ruby’s clone method.  This is a “shallow” copy.  Be warned that your attributes are not copied. That means that modifying attributes of the clone will modify the original, since they will both point to the same attributes hash. If you need a copy of your attributes hash, please use the <a href="Core.html#method-i-dup"><code>dup</code></a> method.</p>

<pre><code>user = User.first
new_user = user.clone
user.name               # =&gt; &quot;Bob&quot;
new_user.name = &quot;Joe&quot;
user.name               # =&gt; &quot;Joe&quot;

user.object_id == new_user.object_id            # =&gt; false
user.name.object_id == new_user.name.object_id  # =&gt; true

user.name.object_id == user.dup.name.object_id  # =&gt; false
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-clone_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 513</span>
    </code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-connection_handler">
            
              connection_handler()
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-connection_handler_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 682</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">connection_handler</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">connection_handler</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-dup">
            
              dup
            
          </h3>

          
            <div class="description">
              <p>Duped objects have no id assigned and are treated as new records. Note that this is a “shallow” copy as it copies the object’s attributes only, not its associations. The extent of a “deep” copy is application specific and is therefore left to the application to implement according to its need. The dup method does not preserve the timestamps (created|updated)_(at|on).</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-dup_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 530</span>
    </code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-encode_with">
            
              encode_with(coder)
            
          </h3>

          
            <div class="description">
              <p>Populate <code>coder</code> with attributes about this record that should be serialized. The structure of <code>coder</code> defined in this method is guaranteed to match the structure of <code>coder</code> passed to the <a href="Core.html#method-i-init_with"><code>init_with</code></a> method.</p>

<p>Example:</p>

<pre><code>class Post &lt; ActiveRecord::Base
end
coder = {}
Post.new.encode_with(coder)
coder # =&gt; {&quot;attributes&quot; =&gt; {&quot;id&quot; =&gt; nil, ... }}
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-encode_with_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 565</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">encode_with</span>(<span class="ruby-identifier">coder</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">yaml_encoder</span>.<span class="ruby-identifier">encode</span>(<span class="ruby-ivar">@attributes</span>, <span class="ruby-identifier">coder</span>)
  <span class="ruby-identifier">coder</span>[<span class="ruby-string">&quot;new_record&quot;</span>] = <span class="ruby-identifier">new_record?</span>
  <span class="ruby-identifier">coder</span>[<span class="ruby-string">&quot;active_record_yaml_version&quot;</span>] = <span class="ruby-value">2</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-eql-3F">
            
              eql?(comparison_object)
            
          </h3>

          
            <div class="description">
              
            </div>
          

          

          
            <div class="aka">
              Alias for: <a href="Core.html#method-i-3D-3D">==</a>
            </div>
          

          
          </div>
        
        <div class="method">
          <h3 id="method-i-freeze">
            
              freeze()
            
          </h3>

          
            <div class="description">
              <p>Clone and freeze the attributes hash such that associations are still accessible, even on destroyed records, but cloned models will not be frozen.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-freeze_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 603</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">freeze</span>
  <span class="ruby-ivar">@attributes</span> = <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">clone</span>.<span class="ruby-identifier">freeze</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-frozen-3F">
            
              frozen?()
            
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if the attributes hash has been frozen.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-frozen-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 609</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">frozen?</span>
  <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">frozen?</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-hash">
            
              hash()
            
          </h3>

          
            <div class="description">
              <p>Delegates to id in order to allow two records of the same type and id to work with something like:</p>

<pre><code>[ Person.find(1), Person.find(2), Person.find(3) ] &amp; [ Person.find(1), Person.find(4) ] # =&gt; [ Person.find(1) ]
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-hash_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 590</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">hash</span>
  <span class="ruby-identifier">id</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">id</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">id</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">hash</span> <span class="ruby-operator">^</span> <span class="ruby-identifier">id</span>.<span class="ruby-identifier">hash</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">super</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-init_with">
            
              init_with(coder, &amp;block)
            
          </h3>

          
            <div class="description">
              <p>Initialize an empty model object from <code>coder</code>. <code>coder</code> should be the result of previously encoding an Active Record model, using <a href="Core.html#method-i-encode_with"><code>encode_with</code></a>.</p>

<pre><code>class Post &lt; ActiveRecord::Base
end

old_post = Post.new(title: &quot;hello world&quot;)
coder = {}
old_post.encode_with(coder)

post = Post.allocate
post.init_with(coder)
post.title # =&gt; &#39;hello world&#39;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-init_with_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 488</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">init_with</span>(<span class="ruby-identifier">coder</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">coder</span> = <span class="ruby-constant">LegacyYamlAdapter</span>.<span class="ruby-identifier">convert</span>(<span class="ruby-identifier">coder</span>)
  <span class="ruby-identifier">attributes</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">yaml_encoder</span>.<span class="ruby-identifier">decode</span>(<span class="ruby-identifier">coder</span>)
  <span class="ruby-identifier">init_with_attributes</span>(<span class="ruby-identifier">attributes</span>, <span class="ruby-identifier">coder</span>[<span class="ruby-string">&quot;new_record&quot;</span>], <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-inspect">
            
              inspect()
            
          </h3>

          
            <div class="description">
              <p>Returns the contents of the record as a nicely formatted string.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-inspect_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 687</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">inspect</span>
  <span class="ruby-comment"># We check defined?(@attributes) not to issue warnings if the object is</span>
  <span class="ruby-comment"># allocated but not initialized.</span>
  <span class="ruby-identifier">inspection</span> = <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-ivar">@attributes</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@attributes</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">attribute_names</span>.<span class="ruby-identifier">filter_map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">_has_attribute?</span>(<span class="ruby-identifier">name</span>)
        <span class="ruby-node">&quot;#{name}: #{attribute_for_inspect(name)}&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;, &quot;</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-string">&quot;not initialized&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-node">&quot;#&lt;#{self.class} #{inspection}&gt;&quot;</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-pretty_print">
            
              pretty_print(pp)
            
          </h3>

          
            <div class="description">
              <p>Takes a PP and prettily prints this record to it, allowing you to get a nice result from <code>pp record</code> when pp is required.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-pretty_print_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 705</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">pretty_print</span>(<span class="ruby-identifier">pp</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">super</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">custom_inspect_method_defined?</span>
  <span class="ruby-identifier">pp</span>.<span class="ruby-identifier">object_address_group</span>(<span class="ruby-keyword">self</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-ivar">@attributes</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@attributes</span>
      <span class="ruby-identifier">attr_names</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">attribute_names</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span> <span class="ruby-identifier">_has_attribute?</span>(<span class="ruby-identifier">name</span>) }
      <span class="ruby-identifier">pp</span>.<span class="ruby-identifier">seplist</span>(<span class="ruby-identifier">attr_names</span>, <span class="ruby-identifier">proc</span> { <span class="ruby-identifier">pp</span>.<span class="ruby-identifier">text</span> <span class="ruby-string">&quot;,&quot;</span> }) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attr_name</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">pp</span>.<span class="ruby-identifier">breakable</span> <span class="ruby-string">&quot; &quot;</span>
        <span class="ruby-identifier">pp</span>.<span class="ruby-identifier">group</span>(<span class="ruby-value">1</span>) <span class="ruby-keyword">do</span>
          <span class="ruby-identifier">pp</span>.<span class="ruby-identifier">text</span> <span class="ruby-identifier">attr_name</span>
          <span class="ruby-identifier">pp</span>.<span class="ruby-identifier">text</span> <span class="ruby-string">&quot;:&quot;</span>
          <span class="ruby-identifier">pp</span>.<span class="ruby-identifier">breakable</span>
          <span class="ruby-identifier">value</span> = <span class="ruby-identifier">_read_attribute</span>(<span class="ruby-identifier">attr_name</span>)
          <span class="ruby-identifier">value</span> = <span class="ruby-identifier">inspection_filter</span>.<span class="ruby-identifier">filter_param</span>(<span class="ruby-identifier">attr_name</span>, <span class="ruby-identifier">value</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">nil?</span>
          <span class="ruby-identifier">pp</span>.<span class="ruby-identifier">pp</span> <span class="ruby-identifier">value</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">pp</span>.<span class="ruby-identifier">breakable</span> <span class="ruby-string">&quot; &quot;</span>
      <span class="ruby-identifier">pp</span>.<span class="ruby-identifier">text</span> <span class="ruby-string">&quot;not initialized&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-readonly-21">
            
              readonly!()
            
          </h3>

          
            <div class="description">
              <p>Marks this record as read only.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-readonly-21_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 678</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">readonly!</span>
  <span class="ruby-ivar">@readonly</span> = <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-readonly-3F">
            
              readonly?()
            
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if the record is read only.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-readonly-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 631</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">readonly?</span>
  <span class="ruby-ivar">@readonly</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-slice">
            
              slice(*methods)
            
          </h3>

          
            <div class="description">
              <p>Returns a hash of the given methods with their names as keys and returned values as values.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-slice_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 729</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">slice</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">methods</span>)
  <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">index_with</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">method</span><span class="ruby-operator">|</span> <span class="ruby-identifier">public_send</span>(<span class="ruby-identifier">method</span>) }.<span class="ruby-identifier">with_indifferent_access</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-strict_loading-21">
            
              strict_loading!(value = true, mode: :all)
            
          </h3>

          
            <div class="description">
              <p>Sets the record to strict_loading mode. This will raise an error if the record tries to lazily load an association.</p>

<pre><code>user = User.first
user.strict_loading! # =&gt; true
user.comments
=&gt; ActiveRecord::StrictLoadingViolationError
</code></pre>

<h3 id="method-i-strict_loading-21-label-Parameters-3A">Parameters:</h3>
<ul><li>
<p>value - Boolean specifying whether to enable or disable strict loading.</p>
</li><li>
<p>mode - <a href="../Symbol.html"><code>Symbol</code></a> specifying strict loading mode. Defaults to :all. Using</p>

<pre><code>:n_plus_one_only mode will only raise an error if an association
that will lead to an n plus one query is lazily loaded.
</code></pre>
</li></ul>

<h3 id="method-i-strict_loading-21-label-Example-3A">Example:</h3>

<pre><code>user = User.first
user.strict_loading!(false) # =&gt; false
user.comments
=&gt; #&lt;ActiveRecord::Associations::CollectionProxy&gt;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-strict_loading-21_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 661</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">strict_loading!</span>(<span class="ruby-identifier">value</span> = <span class="ruby-keyword">true</span>, <span class="ruby-value">mode:</span> <span class="ruby-value">:all</span>)
  <span class="ruby-keyword">unless</span> [<span class="ruby-value">:all</span>, <span class="ruby-value">:n_plus_one_only</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">mode</span>)
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&quot;The :mode option must be one of [:all, :n_plus_one_only].&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@strict_loading_mode</span> = <span class="ruby-identifier">mode</span>
  <span class="ruby-ivar">@strict_loading</span> = <span class="ruby-identifier">value</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-strict_loading-3F">
            
              strict_loading?()
            
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if the record is in strict_loading mode.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-strict_loading-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 636</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">strict_loading?</span>
  <span class="ruby-ivar">@strict_loading</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-strict_loading_n_plus_one_only-3F">
            
              strict_loading_n_plus_one_only?()
            
          </h3>

          
            <div class="description">
              <p>Returns <code>true</code> if the record uses strict_loading with <code>:n_plus_one_only</code> mode enabled.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-strict_loading_n_plus_one_only-3F_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 673</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">strict_loading_n_plus_one_only?</span>
  <span class="ruby-ivar">@strict_loading_mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:n_plus_one_only</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-values_at">
            
              values_at(*methods)
            
          </h3>

          
            <div class="description">
              <p>Returns an array of the values returned by the given methods.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-values_at_source">
                <pre><code class="ruby"><span class="ruby-comment"># File activerecord/lib/active_record/core.rb, line 734</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">values_at</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">methods</span>)
  <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">map!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">method</span><span class="ruby-operator">|</span> <span class="ruby-identifier">public_send</span>(<span class="ruby-identifier">method</span>) }
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
      
    
  
</div>

    </div>
</div>

        <footer class="site-footer">
          <!-- <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span> -->
        </footer>
      </main>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.3.1/anchor.min.js" integrity="sha512-zPB79j2C+3sFS9zcA3vg/z6bVKzJVEyu9pY5w89akQRys76zpAT2t6S3wZKla3QQ14O5l/Yt0RUQ/DHXx82Y5g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script src="/assets/js/app.js"></script>
  <script src="/assets/js/search.js"></script>
</body>
</html>
