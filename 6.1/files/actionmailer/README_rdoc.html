<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
  <link href="/assets/css/style.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/monokai.min.css">
  <link rel="apple-touch-icon" href="icon.png">
  <meta name="theme-color" content="#fafafa">
  <link href="https://fonts.googleapis.com/css?family=Asap" rel="stylesheet">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>README.rdoc | RailsDoc(β)</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="README.rdoc" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Ruby on Rails API Documentation." />
<meta property="og:description" content="Ruby on Rails API Documentation." />
<link rel="canonical" href="https://railsdoc.github.io/6.1/files/actionmailer/README_rdoc.html" />
<meta property="og:url" content="https://railsdoc.github.io/6.1/files/actionmailer/README_rdoc.html" />
<meta property="og:site_name" content="RailsDoc(β)" />
<meta property="og:image" content="https://avatars.githubusercontent.com/u/4223" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:image" content="https://avatars.githubusercontent.com/u/4223" />
<meta property="twitter:title" content="README.rdoc" />
<meta name="twitter:site" content="@" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Ruby on Rails API Documentation.","headline":"README.rdoc","image":"https://avatars.githubusercontent.com/u/4223","url":"https://railsdoc.github.io/6.1/files/actionmailer/README_rdoc.html"}</script>
<!-- End Jekyll SEO tag -->

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134470810-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-134470810-1');

    window.config = {
      rootPath: "/6.1/"
    }
  </script>
</head>
<body>
  <header class="navbar navbar-dark navbar-expand bg-dark flex-md-nowrap p-0 shadow sticky-header">
    <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="/">RailsDoc(β)</a>
    <form class="w-100 d-none d-md-flex" action="/search" method="get">
      <input id="search-form" class="form-control form-control-dark" type="text" placeholder="Search" aria-label="Search" name="q">
    </form>

    <ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex px-1">
      <li class="nav-item text-nowrap p-1">
        <div class="dropdown">
          <a class="dropdown-toggle nav-link" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            v6.1
          </a>
          <div class="dropdown-menu dropdown-menu-md-right" aria-labelledby="dropdownMenuLink">
            <a class="dropdown-item" href="/">v7.0</a>
            
              
              <a class="dropdown-item" href="/6.1/">v6.1</a>
            
              
              <a class="dropdown-item" href="/6.0/">v6.0</a>
            
              
              <a class="dropdown-item" href="/5.2/">v5.2</a>
            
          </div>
        </div>
      </li>
      <li class="nav-item text-nowrap p-1">
        <a class="nav-link p-2" href="https://github.com/railsdoc/railsdoc.github.io">GitHub</a>
      </li>
    </ul>
  </header>

  <div class="container-fluid">
    <div class="row">
      <nav class="col-12 col-md-3 col-xl-2 d-none d-md-block bg-light sidebar-sticky">
        <div id="navigation" class="sidebar-content">
        </div>
      </nav>

      <div class="col-12 col-md-3 col-xl-2 toc-content-sticky">
        <div class="toc-content"><ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#label-Sending+emails">Sending emails</a></li>
<li class="toc-entry toc-h2"><a href="#label-Setting+defaults">Setting defaults</a></li>
<li class="toc-entry toc-h2"><a href="#label-Configuration">Configuration</a></li>
<li class="toc-entry toc-h2"><a href="#label-Download+and+installation">Download and installation</a></li>
<li class="toc-entry toc-h2"><a href="#label-License">License</a></li>
<li class="toc-entry toc-h2"><a href="#label-Support">Support</a></li>
</ul></div>
      </div>

      <main role="main" class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-4">
        <div>
    <div class="banner">
        
            <span>Ruby on Rails 6.1.7</span><br />
        
        <h1>
            README.rdoc
        </h1>
        <ul class="files">
            
            <li>
                actionmailer/README.rdoc
                
            </li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h1 id="label-Action+Mailer+--+Easy+email+delivery+and+testing">Action Mailer – Easy email delivery and testing</h1>

<p>Action Mailer is a framework for designing email service layers. These layers are used to consolidate code for sending out forgotten passwords, welcome wishes on signup, invoices for billing, and any other use case that requires a written notification to either a person or another system.</p>

<p>Action Mailer is in essence a wrapper around Action Controller and the <a href="../../classes/Mail.html"><code>Mail</code></a> gem.  It provides a way to make emails using templates in the same way that Action Controller renders views using templates.</p>

<p>Additionally, an Action Mailer class can be used to process incoming email, such as allowing a blog to accept new posts from an email (which could even have been sent from a phone).</p>

<p>You can read more about Action Mailer in the <a href="https://edgeguides.rubyonrails.org/action_mailer_basics.html">Action Mailer Basics</a> guide.</p>

<h2 id="label-Sending+emails">Sending emails</h2>

<p>The framework works by initializing any instance variables you want to be available in the email template, followed by a call to <code>mail</code> to deliver the email.</p>

<p>This can be as simple as:</p>

<pre><code>class Notifier &lt; ActionMailer::Base
  default from: &#39;system@loudthinking.com&#39;

  def welcome(recipient)
    @recipient = recipient
    mail(to: recipient,
         subject: &quot;[Signed up] Welcome #{recipient}&quot;)
  end
end
</code></pre>

<p>The body of the email is created by using an Action View template (regular <a href="../../classes/ERB.html"><code>ERB</code></a>) that has the instance variables that are declared in the mailer action.</p>

<p>So the corresponding body template for the method above could look like this:</p>

<pre><code>Hello there,

Mr. &lt;%= @recipient %&gt;

Thank you for signing up!
</code></pre>

<p>If the recipient was given as “david@loudthinking.com”, the email generated would look like this:</p>

<pre><code>Date: Mon, 25 Jan 2010 22:48:09 +1100
From: system@loudthinking.com
To: david@loudthinking.com
Message-ID: &lt;4b5d84f9dd6a5_7380800b81ac29578@void.loudthinking.com.mail&gt;
Subject: [Signed up] Welcome david@loudthinking.com
Mime-Version: 1.0
Content-Type: text/plain;
      charset=&quot;US-ASCII&quot;;
Content-Transfer-Encoding: 7bit

Hello there,

Mr. david@loudthinking.com

Thank you for signing up!
</code></pre>

<p>In order to send mails, you simply call the method and then call <code>deliver_now</code> on the return value.</p>

<p>Calling the method returns a <a href="../../classes/Mail.html"><code>Mail</code></a> Message object:</p>

<pre><code>message = Notifier.welcome(&quot;david@loudthinking.com&quot;)   # =&gt; Returns a Mail::Message object
message.deliver_now                                    # =&gt; delivers the email
</code></pre>

<p>Or you can just chain the methods together like:</p>

<pre><code>Notifier.welcome(&quot;david@loudthinking.com&quot;).deliver_now # Creates the email and sends it immediately
</code></pre>

<h2 id="label-Setting+defaults">Setting defaults</h2>

<p>It is possible to set default values that will be used in every method in your Action Mailer class. To implement this functionality, you just call the public class method <code>default</code> which you get for free from <code>ActionMailer::Base</code>. This method accepts a <a href="../../classes/Hash.html"><code>Hash</code></a> as the parameter. You can use any of the headers, email messages have, like <code>:from</code> as the key. You can also pass in a string as the key, like “Content-Type”, but Action Mailer does this out of the box for you, so you won&#39;t need to worry about that. Finally, it is also possible to pass in a Proc that will get evaluated when it is needed.</p>

<p>Note that every value you set with this method will get overwritten if you use the same key in your mailer method.</p>

<p>Example:</p>

<pre><code>class AuthenticationMailer &lt; ActionMailer::Base
  default from: &quot;awesome@application.com&quot;, subject: Proc.new { &quot;E-mail was generated at #{Time.now}&quot; }
  .....
end
</code></pre>

<h2 id="label-Configuration">Configuration</h2>

<p>The Base class has the full list of configuration options. Here&#39;s an example:</p>

<pre><code>ActionMailer::Base.smtp_settings = {
  address:        &#39;smtp.yourserver.com&#39;, # default: localhost
  port:           &#39;25&#39;,                  # default: 25
  user_name:      &#39;user&#39;,
  password:       &#39;pass&#39;,
  authentication: :plain                 # :plain, :login or :cram_md5
}
</code></pre>

<h2 id="label-Download+and+installation">Download and installation</h2>

<p>The latest version of Action Mailer can be installed with RubyGems:</p>

<pre><code>$ gem install actionmailer
</code></pre>

<p>Source code can be downloaded as part of the Rails project on GitHub:</p>
<ul><li>
<p><a href="https://github.com/rails/rails/tree/main/actionmailer">github.com/rails/rails/tree/main/actionmailer</a></p>
</li></ul>

<h2 id="label-License">License</h2>

<p>Action Mailer is released under the MIT license:</p>
<ul><li>
<p><a href="https://opensource.org/licenses/MIT">opensource.org/licenses/MIT</a></p>
</li></ul>

<h2 id="label-Support">Support</h2>

<p>API documentation is at</p>
<ul><li>
<p><a href="https://api.rubyonrails.org">api.rubyonrails.org</a></p>
</li></ul>

<p>Bug reports for the Ruby on Rails project can be filed here:</p>
<ul><li>
<p><a href="https://github.com/rails/rails/issues">github.com/rails/rails/issues</a></p>
</li></ul>

<p>Feature requests should be discussed on the rails-core mailing list here:</p>
<ul><li>
<p><a href="https://discuss.rubyonrails.org/c/rubyonrails-core">discuss.rubyonrails.org/c/rubyonrails-core</a></p>
</li></ul>

    </div>
  

  

  
  


  

  

  

  
    

    

    

    

    <!-- Methods -->
    
    
    
  
</div>

    </div>
</div>

        <footer class="site-footer">
          <!-- <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span> -->
        </footer>
      </main>
    </div>
  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.3.0/anchor.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>
  <script src="/assets/js/app.js"></script>
  <script src="/assets/js/search.js"></script>
</body>
</html>
