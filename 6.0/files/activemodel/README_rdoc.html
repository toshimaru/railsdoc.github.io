<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
  <link href="/assets/css/style.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/monokai.min.css">
  <link rel="apple-touch-icon" href="icon.png">
  <meta name="theme-color" content="#fafafa">
  <link href="https://fonts.googleapis.com/css?family=Asap" rel="stylesheet">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>README.rdoc | RailsDoc(β)</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="README.rdoc" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Ruby on Rails API Documentation." />
<meta property="og:description" content="Ruby on Rails API Documentation." />
<link rel="canonical" href="https://railsdoc.github.io/6.0/files/activemodel/README_rdoc.html" />
<meta property="og:url" content="https://railsdoc.github.io/6.0/files/activemodel/README_rdoc.html" />
<meta property="og:site_name" content="RailsDoc(β)" />
<meta property="og:image" content="https://avatars.githubusercontent.com/u/4223" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:image" content="https://avatars.githubusercontent.com/u/4223" />
<meta property="twitter:title" content="README.rdoc" />
<meta name="twitter:site" content="@" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Ruby on Rails API Documentation.","headline":"README.rdoc","image":"https://avatars.githubusercontent.com/u/4223","url":"https://railsdoc.github.io/6.0/files/activemodel/README_rdoc.html"}</script>
<!-- End Jekyll SEO tag -->

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134470810-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-134470810-1');

    window.config = {
      rootPath: "/6.0/"
    }
  </script>
</head>
<body>
  <header class="navbar navbar-dark navbar-expand bg-dark flex-md-nowrap p-0 shadow sticky-header">
    <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="/">RailsDoc(β)</a>
    <form class="w-100 d-none d-md-flex" action="/search" method="get">
      <input id="search-form" class="form-control form-control-dark" type="text" placeholder="Search" aria-label="Search" name="q">
    </form>

    <ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex px-1">
      <li class="nav-item text-nowrap p-1">
        <div class="dropdown">
          <a class="dropdown-toggle nav-link" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            v6.0
          </a>
          <div class="dropdown-menu dropdown-menu-md-right" aria-labelledby="dropdownMenuLink">
            
    
    
    
        <a class="dropdown-item" href="/">v7.1</a>
    

    
    
    
        <a class="dropdown-item" href="/7.0/">v7.0</a>
    

    
    
    
        <a class="dropdown-item" href="/6.1/">v6.1</a>
    

    
    
    
        <a class="dropdown-item" href="/6.0/">v6.0</a>
    

    
    
    
        <a class="dropdown-item" href="/5.2/">v5.2</a>
    


          </div>
        </div>
      </li>
      <li class="nav-item text-nowrap p-1">
        <a class="nav-link p-2" href="https://github.com/railsdoc/railsdoc.github.io">GitHub</a>
      </li>
    </ul>
  </header>

  <div class="container-fluid">
    <div class="row">
      <nav class="col-12 col-md-3 col-xl-2 d-none d-md-block bg-light sidebar-sticky">
        <div id="navigation" class="sidebar-content">
        </div>
      </nav>

      <div class="col-12 col-md-3 col-xl-2 toc-content-sticky">
        <div class="toc-content"><ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#label-Download+and+installation">Download and installation</a></li>
<li class="toc-entry toc-h2"><a href="#label-License">License</a></li>
<li class="toc-entry toc-h2"><a href="#label-Support">Support</a></li>
</ul></div>
      </div>

      <main role="main" class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-4">
        <div>
    <div class="banner">
        
            <span>Ruby on Rails 6.0.6</span><br />
        
        <h1>
            README.rdoc
        </h1>
        <ul class="files">
            
            <li>
                activemodel/README.rdoc
                
            </li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<h1 id="label-Active+Model+--+model+interfaces+for+Rails">Active Model – model interfaces for Rails</h1>

<p>Active Model provides a known set of interfaces for usage in model classes. They allow for Action Pack helpers to interact with non-Active Record models, for example. Active Model also helps with building custom ORMs for use outside of the Rails framework.</p>

<p>You can read more about Active Model in the <a href="https://edgeguides.rubyonrails.org/active_model_basics.html">Active Model Basics</a> guide.</p>

<p>Prior to Rails 3.0, if a plugin or gem developer wanted to have an object interact with Action Pack helpers, it was required to either copy chunks of code from Rails, or monkey patch entire helpers to make them handle objects that did not exactly conform to the Active Record interface. This would result in code duplication and fragile applications that broke on upgrades. Active Model solves this by defining an explicit API. You can read more about the API in <code>ActiveModel::Lint::Tests</code>.</p>

<p>Active Model provides a default module that implements the basic API required to integrate with Action Pack out of the box: <code>ActiveModel::Model</code>.</p>

<pre><code>class Person
  include ActiveModel::Model

  attr_accessor :name, :age
  validates_presence_of :name
end

person = Person.new(name: &#39;bob&#39;, age: &#39;18&#39;)
person.name   # =&gt; &#39;bob&#39;
person.age    # =&gt; &#39;18&#39;
person.valid? # =&gt; true
</code></pre>

<p>It includes model name introspections, conversions, translations and validations, resulting in a class suitable to be used with Action Pack. See <code>ActiveModel::Model</code> for more examples.</p>

<p>Active Model also provides the following functionality to have ORM-like behavior out of the box:</p>
<ul><li>
<p>Add attribute magic to objects</p>

<pre><code>class Person
  include ActiveModel::AttributeMethods

  attribute_method_prefix &#39;clear_&#39;
  define_attribute_methods :name, :age

  attr_accessor :name, :age

  def clear_attribute(attr)
    send(&quot;#{attr}=&quot;, nil)
  end
end

person = Person.new
person.clear_name
person.clear_age
</code></pre>

<p><a href="../../classes/ActiveModel/AttributeMethods.html">Learn more</a></p>
</li><li>
<p>Callbacks for certain operations</p>

<pre><code>class Person
  extend ActiveModel::Callbacks
  define_model_callbacks :create

  def create
    run_callbacks :create do
      # Your create action methods here
    end
  end
end
</code></pre>

<p>This generates <code>before_create</code>, <code>around_create</code> and <code>after_create</code> class methods that wrap your create method.</p>

<p><a href="../../classes/ActiveModel/Callbacks.html">Learn more</a></p>
</li><li>
<p>Tracking value changes</p>

<pre><code>class Person
  include ActiveModel::Dirty

  define_attribute_methods :name

  def name
    @name
  end

  def name=(val)
    name_will_change! unless val == @name
    @name = val
  end

  def save
    # do persistence work
    changes_applied
  end
end

person = Person.new
person.name             # =&gt; nil
person.changed?         # =&gt; false
person.name = &#39;bob&#39;
person.changed?         # =&gt; true
person.changed          # =&gt; [&#39;name&#39;]
person.changes          # =&gt; { &#39;name&#39; =&gt; [nil, &#39;bob&#39;] }
person.save
person.name = &#39;robert&#39;
person.save
person.previous_changes # =&gt; {&#39;name&#39; =&gt; [&#39;bob, &#39;robert&#39;]}
</code></pre>

<p><a href="../../classes/ActiveModel/Dirty.html">Learn more</a></p>
</li><li>
<p>Adding <code>errors</code> interface to objects</p>

<p>Exposing error messages allows objects to interact with Action Pack helpers seamlessly.</p>

<pre><code>class Person

  def initialize
    @errors = ActiveModel::Errors.new(self)
  end

  attr_accessor :name
  attr_reader   :errors

  def validate!
    errors.add(:name, &quot;cannot be nil&quot;) if name.nil?
  end

  def self.human_attribute_name(attr, options = {})
    &quot;Name&quot;
  end
end

person = Person.new
person.name = nil
person.validate!
person.errors.full_messages
# =&gt; [&quot;Name cannot be nil&quot;]
</code></pre>

<p><a href="../../classes/ActiveModel/Errors.html">Learn more</a></p>
</li><li>
<p>Model name introspection</p>

<pre><code>class NamedPerson
  extend ActiveModel::Naming
end

NamedPerson.model_name.name   # =&gt; &quot;NamedPerson&quot;
NamedPerson.model_name.human  # =&gt; &quot;Named person&quot;
</code></pre>

<p><a href="../../classes/ActiveModel/Naming.html">Learn more</a></p>
</li><li>
<p>Making objects serializable</p>

<p><code>ActiveModel::Serialization</code> provides a standard interface for your object to provide <code>to_json</code> serialization.</p>

<pre><code>class SerialPerson
  include ActiveModel::Serialization

  attr_accessor :name

  def attributes
    {&#39;name&#39; =&gt; name}
  end
end

s = SerialPerson.new
s.serializable_hash   # =&gt; {&quot;name&quot;=&gt;nil}

class SerialPerson
  include ActiveModel::Serializers::JSON
end

s = SerialPerson.new
s.to_json             # =&gt; &quot;{\&quot;name\&quot;:null}&quot;
</code></pre>

<p><a href="../../classes/ActiveModel/Serialization.html">Learn more</a></p>
</li><li>
<p>Internationalization (i18n) support</p>

<pre><code>class Person
  extend ActiveModel::Translation
end

Person.human_attribute_name(&#39;my_attribute&#39;)
# =&gt; &quot;My attribute&quot;
</code></pre>

<p><a href="../../classes/ActiveModel/Translation.html">Learn more</a></p>
</li><li>
<p>Validation support</p>

<pre><code>class Person
  include ActiveModel::Validations

  attr_accessor :first_name, :last_name

  validates_each :first_name, :last_name do |record, attr, value|
    record.errors.add attr, &#39;starts with z.&#39; if value.to_s[0] == ?z
  end
end

person = Person.new
person.first_name = &#39;zoolander&#39;
person.valid?  # =&gt; false
</code></pre>

<p><a href="../../classes/ActiveModel/Validations.html">Learn more</a></p>
</li><li>
<p>Custom validators</p>

<pre><code>class HasNameValidator &lt; ActiveModel::Validator
  def validate(record)
    record.errors.add(:name, &quot;must exist&quot;) if record.name.blank?
  end
end

class ValidatorPerson
  include ActiveModel::Validations
  validates_with HasNameValidator
  attr_accessor :name
end

p = ValidatorPerson.new
p.valid?                  # =&gt;  false
p.errors.full_messages    # =&gt; [&quot;Name must exist&quot;]
p.name = &quot;Bob&quot;
p.valid?                  # =&gt;  true
</code></pre>

<p><a href="../../classes/ActiveModel/Validator.html">Learn more</a></p>
</li></ul>

<h2 id="label-Download+and+installation">Download and installation</h2>

<p>The latest version of Active Model can be installed with RubyGems:</p>

<pre><code>$ gem install activemodel
</code></pre>

<p>Source code can be downloaded as part of the Rails project on GitHub</p>
<ul><li>
<p><a href="https://github.com/rails/rails/tree/main/activemodel">github.com/rails/rails/tree/main/activemodel</a></p>
</li></ul>

<h2 id="label-License">License</h2>

<p>Active Model is released under the MIT license:</p>
<ul><li>
<p><a href="https://opensource.org/licenses/MIT">opensource.org/licenses/MIT</a></p>
</li></ul>

<h2 id="label-Support">Support</h2>

<p>API documentation is at:</p>
<ul><li>
<p><a href="https://api.rubyonrails.org">api.rubyonrails.org</a></p>
</li></ul>

<p>Bug reports for the Ruby on Rails project can be filed here:</p>
<ul><li>
<p><a href="https://github.com/rails/rails/issues">github.com/rails/rails/issues</a></p>
</li></ul>

<p>Feature requests should be discussed on the rails-core mailing list here:</p>
<ul><li>
<p><a href="https://discuss.rubyonrails.org/c/rubyonrails-core">discuss.rubyonrails.org/c/rubyonrails-core</a></p>
</li></ul>

    </div>
  

  

  
  


  

  

  

  
    

    

    

    

    <!-- Methods -->
    
    
    
  
</div>

    </div>
</div>

        <footer class="site-footer">
          <!-- <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span> -->
        </footer>
      </main>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.3.1/anchor.min.js" integrity="sha512-zPB79j2C+3sFS9zcA3vg/z6bVKzJVEyu9pY5w89akQRys76zpAT2t6S3wZKla3QQ14O5l/Yt0RUQ/DHXx82Y5g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script src="/assets/js/app.js"></script>
  <script src="/assets/js/search.js"></script>
</body>
</html>
