<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
  <link href="/assets/css/style.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/monokai.min.css">
  <link rel="apple-touch-icon" href="icon.png">
  <meta name="theme-color" content="#fafafa">
  <link href="https://fonts.googleapis.com/css?family=Asap" rel="stylesheet">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>AbstractController::Helpers::ClassMethods | RailsDoc(β)</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="AbstractController::Helpers::ClassMethods" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Ruby on Rails API Documentation." />
<meta property="og:description" content="Ruby on Rails API Documentation." />
<link rel="canonical" href="https://railsdoc.github.io/6.0/classes/AbstractController/Helpers/ClassMethods.html" />
<meta property="og:url" content="https://railsdoc.github.io/6.0/classes/AbstractController/Helpers/ClassMethods.html" />
<meta property="og:site_name" content="RailsDoc(β)" />
<meta property="og:image" content="https://avatars.githubusercontent.com/u/4223" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:image" content="https://avatars.githubusercontent.com/u/4223" />
<meta property="twitter:title" content="AbstractController::Helpers::ClassMethods" />
<meta name="twitter:site" content="@" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Ruby on Rails API Documentation.","headline":"AbstractController::Helpers::ClassMethods","image":"https://avatars.githubusercontent.com/u/4223","url":"https://railsdoc.github.io/6.0/classes/AbstractController/Helpers/ClassMethods.html"}</script>
<!-- End Jekyll SEO tag -->

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134470810-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-134470810-1');

    window.config = {
      rootPath: "/6.0/"
    }
  </script>
</head>
<body>
  <header class="navbar navbar-dark navbar-expand bg-dark flex-md-nowrap p-0 shadow sticky-header">
    <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="/">RailsDoc(β)</a>
    <form class="w-100 d-none d-md-flex" action="/search" method="get">
      <input id="search-form" class="form-control form-control-dark" type="text" placeholder="Search" aria-label="Search" name="q">
    </form>

    <ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex px-1">
      <li class="nav-item text-nowrap p-1">
        <div class="dropdown">
          <a class="dropdown-toggle nav-link" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            v6.0
          </a>
          <div class="dropdown-menu dropdown-menu-md-right" aria-labelledby="dropdownMenuLink">
            <a class="dropdown-item" href="/">v7.0</a>
            
              
              <a class="dropdown-item" href="/6.1/">v6.1</a>
            
              
              <a class="dropdown-item" href="/6.0/">v6.0</a>
            
              
              <a class="dropdown-item" href="/5.2/">v5.2</a>
            
          </div>
        </div>
      </li>
      <li class="nav-item text-nowrap p-1">
        <a class="nav-link p-2" href="https://github.com/railsdoc/railsdoc.github.io">GitHub</a>
      </li>
    </ul>
  </header>

  <div class="container-fluid">
    <div class="row">
      <nav class="col-12 col-md-3 col-xl-2 d-none d-md-block bg-light sidebar-sticky">
        <div id="navigation" class="sidebar-content">
        </div>
      </nav>

      <div class="col-12 col-md-3 col-xl-2 toc-content-sticky">
        <div class="toc-content"><ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#methods">Methods</a></li>
<li class="toc-entry toc-h2"><a href="#instance-public-methods">Instance Public methods</a>
<ul>
<li class="toc-entry toc-h3"><a href="#method-i-clear_helpers">
            
              clear_helpers()
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-helper">
            
              helper(*args, &amp;block)
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-helper_method">
            
              helper_method(*meths)
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-inherited">
            
              inherited(klass)
            
          </a></li>
<li class="toc-entry toc-h3"><a href="#method-i-modules_for_helpers">
            
              modules_for_helpers(args)
            
          </a></li>
</ul>
</li>
</ul></div>
      </div>

      <main role="main" class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-4">
        <div class="main">
    <div class="banner">
        
            <span>Ruby on Rails 6.0.5</span><br />
        
        <div class="type">Module</div>
        <h1>
            AbstractController::Helpers::ClassMethods
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/actionpack/lib/abstract_controller/helpers_rb.html">actionpack/lib/abstract_controller/helpers.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  

  

  
  


  

  
    <h2 id="methods">Methods</h2>
    <ul>
      
        <li>
          <a href="#method-i-clear_helpers">clear_helpers</a>
        </li>
      
        <li>
          <a href="#method-i-helper">helper</a>
        </li>
      
        <li>
          <a href="#method-i-helper_method">helper_method</a>
        </li>
      
        <li>
          <a href="#method-i-inherited">inherited</a>
        </li>
      
        <li>
          <a href="#method-i-modules_for_helpers">modules_for_helpers</a>
        </li>
      
    </ul>
  

  

  
    

    

    

    

    <!-- Methods -->
    
    
      <h2 id="instance-public-methods">Instance Public methods</h2>
      
        <div class="method">
          <h3 id="method-i-clear_helpers">
            
              clear_helpers()
            
          </h3>

          
            <div class="description">
              <p>Clears up all existing helpers in this class, only keeping the helper with the same name as this class.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-clear_helpers_source">
                <pre><code class="ruby"><span class="ruby-comment"># File actionpack/lib/abstract_controller/helpers.rb, line 118</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">clear_helpers</span>
  <span class="ruby-identifier">inherited_helper_methods</span> = <span class="ruby-identifier">_helper_methods</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">_helpers</span> = <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">_helper_methods</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>

  <span class="ruby-identifier">inherited_helper_methods</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">meth</span><span class="ruby-operator">|</span> <span class="ruby-identifier">helper_method</span> <span class="ruby-identifier">meth</span> }
  <span class="ruby-identifier">default_helper_module!</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">anonymous?</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-helper">
            
              helper(*args, &amp;block)
            
          </h3>

          
            <div class="description">
              <p>The <code>helper</code> class method can take a series of helper module names, a block, or both.</p>

<h4 id="method-i-helper-label-Options">Options</h4>
<ul><li>
<p><code>*args</code> - <a href="../../Module.html"><code>Module</code></a>, <a href="../../Symbol.html"><code>Symbol</code></a>, <a href="../../String.html"><code>String</code></a></p>
</li><li>
<p><code>block</code> - A block defining helper methods</p>
</li></ul>

<p>When the argument is a module it will be included directly in the template class.</p>

<pre><code>helper FooHelper # =&gt; includes FooHelper
</code></pre>

<p>When the argument is a string or symbol, the method will provide the “_helper” suffix, require the file and include the module in the template class. The second form illustrates how to include custom helpers when working with namespaced controllers, or other cases where the file containing the helper definition is not in one of Rails&#39; standard load paths:</p>

<pre><code>helper :foo             # =&gt; requires &#39;foo_helper&#39; and includes FooHelper
helper &#39;resources/foo&#39;  # =&gt; requires &#39;resources/foo_helper&#39; and includes Resources::FooHelper
</code></pre>

<p>Additionally, the <code>helper</code> class method can receive and evaluate a block, making the methods defined available to the template.</p>

<pre><code># One line
helper { def hello() &quot;Hello, world!&quot; end }

# Multi-line
helper do
  def foo(bar)
    &quot;#{bar} is the very best&quot;
  end
end
</code></pre>

<p>Finally, all the above styles can be mixed together, and the <code>helper</code> method can be invoked with a mix of <code>symbols</code>, <code>strings</code>, <code>modules</code> and blocks.</p>

<pre><code>helper(:three, BlindHelper) { def mice() &#39;mice&#39; end }
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-helper_source">
                <pre><code class="ruby"><span class="ruby-comment"># File actionpack/lib/abstract_controller/helpers.rb, line 108</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">helper</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">modules_for_helpers</span>(<span class="ruby-identifier">args</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mod</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">add_template_helper</span>(<span class="ruby-identifier">mod</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">_helpers</span>.<span class="ruby-identifier">module_eval</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-helper_method">
            
              helper_method(*meths)
            
          </h3>

          
            <div class="description">
              <p>Declare a controller method as a helper. For example, the following makes the <code>current_user</code> and <code>logged_in?</code> controller methods available to the view:</p>

<pre><code>class ApplicationController &lt; ActionController::Base
  helper_method :current_user, :logged_in?

  def current_user
    @current_user ||= User.find_by(id: session[:user])
  end

  def logged_in?
    current_user != nil
  end
end
</code></pre>

<p>In a view:</p>

<pre><code>&lt;% if logged_in? -%&gt;Welcome, &lt;%= current_user.name %&gt;&lt;% end -%&gt;
</code></pre>

<h4 id="method-i-helper_method-label-Parameters">Parameters</h4>
<ul><li>
<p><code>method[, method]</code> - A name or names of a method on the controller to be made available on the view.</p>
</li></ul>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-helper_method_source">
                <pre><code class="ruby"><span class="ruby-comment"># File actionpack/lib/abstract_controller/helpers.rb, line 60</span>
      <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">helper_method</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">meths</span>)
        <span class="ruby-identifier">meths</span>.<span class="ruby-identifier">flatten!</span>
        <span class="ruby-keyword">self</span>.<span class="ruby-identifier">_helper_methods</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">meths</span>

        <span class="ruby-identifier">meths</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">_helpers</span>.<span class="ruby-identifier">class_eval</span> <span class="ruby-identifier">&lt;&lt;-ruby_eval</span>, <span class="ruby-keyword">__FILE__</span>, <span class="ruby-keyword">__LINE__</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
<span class="ruby-value">            def #{method}(*args, &amp;blk)                     # def current_user(*args, &amp;blk)
              controller.send(%(#{method}), *args, &amp;blk)   #   controller.send(:current_user, *args, &amp;blk)
            end                                            # end
            ruby2_keywords(%(#{method})) if respond_to?(:ruby2_keywords, true)
</span><span class="ruby-identifier">          ruby_eval</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-inherited">
            
              inherited(klass)
            
          </h3>

          
            <div class="description">
              <p>When a class is inherited, wrap its helper module in a new module. This ensures that the parent class&#39;s module can be changed independently of the child class&#39;s.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-inherited_source">
                <pre><code class="ruby"><span class="ruby-comment"># File actionpack/lib/abstract_controller/helpers.rb, line 32</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">inherited</span>(<span class="ruby-identifier">klass</span>)
  <span class="ruby-identifier">helpers</span> = <span class="ruby-identifier">_helpers</span>
  <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">_helpers</span> = <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span> { <span class="ruby-identifier">include</span> <span class="ruby-identifier">helpers</span> }
  <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">class_eval</span> { <span class="ruby-identifier">default_helper_module!</span> } <span class="ruby-keyword">unless</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">anonymous?</span>
  <span class="ruby-keyword">super</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <h3 id="method-i-modules_for_helpers">
            
              modules_for_helpers(args)
            
          </h3>

          
            <div class="description">
              <p>Returns a list of modules, normalized from the acceptable kinds of helpers with the following behavior:</p>
<dl class="rdoc-list note-list"><dt><a href="../../String.html"><code>String</code></a> or <a href="../../Symbol.html"><code>Symbol</code></a>
<dd>
<p>:FooBar or “FooBar” becomes “foo_bar_helper”,</p>
</dd></dl>

<p>and “foo_bar_helper.rb” is loaded using require_dependency.</p>
<dl class="rdoc-list note-list"><dt><a href="../../Module.html"><code>Module</code></a>
<dd>
<p>No further processing</p>
</dd></dl>

<p>After loading the appropriate files, the corresponding modules are returned.</p>

<h4 id="method-i-modules_for_helpers-label-Parameters">Parameters</h4>
<ul><li>
<p><code>args</code> - An array of helpers</p>
</li></ul>

<h4 id="method-i-modules_for_helpers-label-Returns">Returns</h4>
<ul><li>
<p><code>Array</code> - A normalized list of modules for the list of helpers provided.</p>
</li></ul>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                
              </p>
              <div id="method-i-modules_for_helpers_source">
                <pre><code class="ruby"><span class="ruby-comment"># File actionpack/lib/abstract_controller/helpers.rb, line 144</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">modules_for_helpers</span>(<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">map!</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">arg</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">case</span> <span class="ruby-identifier">arg</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">String</span>, <span class="ruby-constant">Symbol</span>
      <span class="ruby-identifier">file_name</span> = <span class="ruby-node">&quot;#{arg.to_s.underscore}_helper&quot;</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">require_dependency</span>(<span class="ruby-identifier">file_name</span>)
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">LoadError</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">e</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">AbstractController</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">MissingHelperError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">e</span>, <span class="ruby-identifier">file_name</span>)
      <span class="ruby-keyword">end</span>

      <span class="ruby-identifier">mod_name</span> = <span class="ruby-identifier">file_name</span>.<span class="ruby-identifier">camelize</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">mod_name</span>.<span class="ruby-identifier">constantize</span>
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">LoadError</span>
        <span class="ruby-comment"># dependencies.rb gives a similar error message but its wording is</span>
        <span class="ruby-comment"># not as clear because it mentions autoloading. To the user all it</span>
        <span class="ruby-comment"># matters is that a helper module couldn&#39;t be loaded, autoloading</span>
        <span class="ruby-comment"># is an internal mechanism that should not leak.</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">NameError</span>, <span class="ruby-node">&quot;Couldn&#39;t find #{mod_name}, expected it to be defined in helpers/#{file_name}.rb&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">Module</span>
      <span class="ruby-identifier">arg</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&quot;helper must be a String, Symbol, or Module&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></code></pre>
              </div>
            </div>
            
          </div>
        
      
    
  
</div>

    </div>
</div>

        <footer class="site-footer">
          <!-- <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span> -->
        </footer>
      </main>
    </div>
  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.3.0/anchor.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>
  <script src="/assets/js/app.js"></script>
  <script src="/assets/js/search.js"></script>
</body>
</html>
